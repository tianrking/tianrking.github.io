"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7652],{1532:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"Clean-Up-Disk-Space-in-Linux","metadata":{"permalink":"/zh-TW/blog/Clean-Up-Disk-Space-in-Linux","editUrl":"https://github.com/tianrking/tianrking.github.io/edit/v3.0/blog/2022-08-12-Clean-Up-Disk-Space-in-Linux.md","source":"@site/blog/2022-08-12-Clean-Up-Disk-Space-in-Linux.md","title":"Clean Up Disk Space in Linux","description":"df","date":"2022-08-12T00:00:00.000Z","formattedDate":"2022\u5e748\u670812\u65e5","tags":[{"label":"misc","permalink":"/zh-TW/blog/tags/misc"},{"label":"Linux","permalink":"/zh-TW/blog/tags/linux"},{"label":"Docker","permalink":"/zh-TW/blog/tags/docker"}],"readingTime":11.51,"hasTruncateMarker":false,"authors":[{"name":"w0x7ce","title":"Maintainer of w0x7ce.eu","url":"https://github.com/tiarnking","imageURL":"https://github.com/tianrking.png","key":"w0x7ce"}],"frontMatter":{"slug":"Clean-Up-Disk-Space-in-Linux","title":"Clean Up Disk Space in Linux","authors":["w0x7ce"],"tags":["misc","Linux","Linux","Docker"]},"nextItem":{"title":"\u6578\u5b57\u8ca8\u5e63\u884c\u60c5\u722c\u53d6 Colly\u5be6\u6230","permalink":"/zh-TW/blog/Colly-Spider-Get-CoinMarket-Data"}},"content":"## df\\n\\ndf\u547d\u4ee4\u53ef\u4ee5\u83b7\u53d6\u786c\u76d8\u88ab\u5360\u7528\u4e86\u591a\u5c11\u7a7a\u95f4\uff0c\u76ee\u524d\u8fd8\u5269\u4e0b\u591a\u5c11\u7a7a\u95f4\u7b49\u4fe1\u606f\uff0c\u5b83\u4e5f\u53ef\u4ee5\u663e\u793a\u6240\u6709\u6587\u4ef6\u7cfb\u7edf\u5bf9i\u8282\u70b9\u548c\u78c1\u76d8\u5757\u7684\u4f7f\u7528\u60c5\u51b5\u3002\\n\\n```bash\\ndf\u547d\u4ee4\u5404\u4e2a\u9009\u9879\u7684\u542b\u4e49\u5982\u4e0b\uff1a\\n\xa0\xa0-a\uff1a\u663e\u793a\u6240\u6709\u6587\u4ef6\u7cfb\u7edf\u7684\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5\uff0c\u5305\u62ec0\u5757\uff08block\uff09\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u5982/proc\u6587\u4ef6\u7cfb\u7edf\u3002\\n\xa0\xa0-k\uff1a\u4ee5k\u5b57\u8282\u4e3a\u5355\u4f4d\u663e\u793a\u3002\\n\xa0\xa0-i\uff1a\u663e\u793ai\u8282\u70b9\u4fe1\u606f\uff0c\u800c\u4e0d\u662f\u78c1\u76d8\u5757\u3002\\n\xa0\xa0-t\uff1a\u663e\u793a\u5404\u6307\u5b9a\u7c7b\u578b\u7684\u6587\u4ef6\u7cfb\u7edf\u7684\u78c1\u76d8\u7a7a\u95f4\u4f7f\u7528\u60c5\u51b5\u3002\\n\xa0\xa0-x\uff1a\u5217\u51fa\u4e0d\u662f\u67d0\u4e00\u6307\u5b9a\u7c7b\u578b\u6587\u4ef6\u7cfb\u7edf\u7684\u78c1\u76d8\u7a7a\u95f4\u4f7f\u7528\u60c5\u51b5\uff08\u4e0et\u9009\u9879\u76f8\u53cd\uff09\u3002\\n\xa0\xa0-T\uff1a\u663e\u793a\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002\\n```\\n\\n```bash\\nubuntu@VM-HK-w0x7ce:~$ df\\nFilesystem     1K-blocks    Used Available Use% Mounted on\\ntmpfs             202488     968    201520   1% /run\\n/dev/vda2       51538380 6022796  45499200  12% /\\ntmpfs            1012440      24   1012416   1% /dev/shm\\ntmpfs               5120       0      5120   0% /run/lock\\ntmpfs             202488       4    202484   1% /run/user/1000\\n```\\n\\n\u7b2c1\u5217\u662f\u4ee3\u8868\u6587\u4ef6\u7cfb\u7edf\u5bf9\u5e94\u7684\u8bbe\u5907\u6587\u4ef6\u7684\u8def\u5f84\u540d\uff08\u4e00\u822c\u662f\u786c\u76d8\u4e0a\u7684\u5206\u533a\uff09\uff1b\u7b2c2\u5217\u7ed9\u51fa\u5206\u533a\u5305\u542b\u7684\u6570\u636e\u5757\uff081024\u5b57\u8282\uff09\u7684\u6570\u76ee\uff1b\u7b2c3\uff0c4\u5217\u5206\u522b\u8868\u793a\u5df2\u7528\u7684\u548c\u53ef\u7528\u7684\u6570\u636e\u5757\u6570\u76ee\u3002\\n\\n\u7b2c3\uff0c4\u5217\u5757\u6570\u4e4b\u548c\u4e0d\u4e00\u5b9a\u7b49\u4e8e\u7b2c2\u5217\u4e2d\u7684\u5757\u6570\u3002\u8fd9\u662f\u56e0\u4e3a\u9ed8\u8ba4\u7684\u6bcf\u4e2a\u5206\u533a\u90fd\u7559\u4e86\u5c11\u91cf\u7a7a\u95f4\u4f9b\u7cfb\u7edf\u7ba1\u7406\u5458\u4f7f\u7528\u7684\u7f18\u6545\u3002\u5373\u4f7f\u9047\u5230\u666e\u901a\u7528\u6237 \u7a7a\u95f4\u5df2\u6ee1\u7684\u60c5\u51b5\uff0c\u7ba1\u7406\u5458\u4ecd\u80fd\u767b\u5f55\u548c\u7559\u6709\u89e3\u51b3\u95ee\u9898\u6240\u9700\u7684\u5de5\u4f5c\u7a7a\u95f4\u3002\u6e05\u5355\u4e2dUse%\u5217\u8868\u793a\u666e\u901a\u7528\u6237\u7a7a\u95f4\u4f7f\u7528\u7684\u767e\u5206\u6bd4\uff0c\u82e5\u8fd9\u4e00\u6570\u5b57\u8fbe\u5230100%\uff0c\u5206\u533a\u4ecd\u7136\u7559\u6709\u7cfb \u7edf\u7ba1\u7406\u5458\u4f7f\u7528\u7684\u7a7a\u95f4\u3002\\n\\n\u6700\u540e\uff0cMounted on\u5217\u8868\u793a\u6587\u4ef6\u7cfb\u7edf\u7684\u5b89\u88c5\u70b9\u3002\\n\\n## du \uff08disk usage\uff09\\n\\ndisk usage \u542b\u4e49\u4e3a\u663e\u793a\u78c1\u76d8\u7a7a\u95f4\u7684\u4f7f\u7528\u60c5\u51b5\uff0c\u7edf\u8ba1\u76ee\u5f55\uff08\u6216\u6587\u4ef6\uff09\u6240\u5360\u78c1\u76d8\u7a7a\u95f4\u7684\u5927\u5c0f\u3002\u8be5\u547d\u4ee4\u7684\u529f\u80fd\u662f\u9010\u7ea7\u8fdb\u5165\u6307\u5b9a\u76ee\u5f55\u7684\u6bcf\u4e00\u4e2a\u5b50\u76ee\u5f55\u5e76\u663e\u793a\u8be5\u76ee\u5f55\u5360\u7528\u6587\u4ef6\u7cfb\u7edf\u6570\u636e\u5757\uff081024\u5b57\u8282\uff09\u7684\u60c5\u51b5\u3002\u82e5\u6ca1\u6709\u7ed9\u51fa\u6307\u5b9a\u76ee\u5f55\uff0c\u5219\u5bf9\u5f53\u524d\u76ee\u5f55\u8fdb\u884c\u7edf\u8ba1\u3002\\n\\n```bash\\ndu\u547d\u4ee4\u5404\u4e2a\u9009\u9879\u7684\u542b\u4e49\u5982\u4e0b\uff1a\xa0 \\n    -s\uff1a\u5bf9\u6bcf\u4e2aNames\u53c2\u6570\u53ea\u7ed9\u51fa\u5360\u7528\u7684\u6570\u636e\u5757\u603b\u6570\u3002\\n    -a\uff1a\u9012\u5f52\u5730\u663e\u793a\u6307\u5b9a\u76ee\u5f55\u4e2d\u5404\u6587\u4ef6\u53ca\u5b50\u76ee\u5f55\u4e2d\u5404\u6587\u4ef6\u5360\u7528\u7684\u6570\u636e\u5757\u6570\u3002\u82e5\u65e2\u4e0d\u6307\u5b9a-s\uff0c\u4e5f\u4e0d\u6307\u5b9a-a\uff0c\u5219\u53ea\u663e\u793aNames\u4e2d\u7684\u6bcf\u4e00\u4e2a\u76ee\u5f55\u53ca\u5176\u4e2d\u7684\u5404\u5b50\u76ee\u5f55\u6240\u5360\u7684\u78c1\u76d8\u5757\u6570\u3002\\n    -b\uff1a\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u5217\u51fa\u78c1\u76d8\u7a7a\u95f4\u4f7f\u7528\u60c5\u51b5\uff08\u7cfb\u7edf\u9ed8\u8ba4\u4ee5k\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002\\n    -k\uff1a\u4ee51024\u5b57\u8282\u4e3a\u5355\u4f4d\u5217\u51fa\u78c1\u76d8\u7a7a\u95f4\u4f7f\u7528\u60c5\u51b5\u3002\\n    -c\uff1a\u6700\u540e\u518d\u52a0\u4e0a\u4e00\u4e2a\u603b\u8ba1\uff08\u7cfb\u7edf\u9ed8\u8ba4\u8bbe\u7f6e\uff09\u3002\\n    -l\uff1a\u8ba1\u7b97\u6240\u6709\u7684\u6587\u4ef6\u5927\u5c0f\uff0c\u5bf9\u786c\u94fe\u63a5\u6587\u4ef6\uff0c\u5219\u8ba1\u7b97\u591a\u6b21\u3002\\n    -x\uff1a\u8df3\u8fc7\u5728\u4e0d\u540c\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684\u76ee\u5f55\u4e0d\u4e88\u7edf\u8ba1\u3002\\n```\\n\\n```bash\\nubuntu@VM-HK-w0x7ce:/etc$ du -h ./apt\\n12K     ./apt/trusted.gpg.d\\n4.0K    ./apt/keyrings\\n64K     ./apt/apt.conf.d\\n4.0K    ./apt/auth.conf.d\\n4.0K    ./apt/preferences.d\\n4.0K    ./apt/sources\\n4.0K    ./apt/sources.list.d\\n104K    ./apt\\n```\\n\\n## tune2fs\\n\\ntune2fs \u547d\u4ee4\u7528\u4e8e\u8c03\u6574\u6587\u4ef6\u7cfb\u7edf\u7684\u53c2\u6570\uff0c\u662f ext2 \u53ca ext3 \u6587\u4ef6\u7cfb\u7edf\u5e38\u7528\u7684\u8c03\u6574\u5de5\u5177\u3002\\n\\n```bash\\ndf\u547d\u4ee4\u5404\u4e2a\u9009\u9879\u7684\u542b\u4e49\u5982\u4e0b\uff1a\\n    -c \u6b21\u6570 #\u6302\u8f7d\u591a\u5c11\u6b21\u540e\u8fd0\u884c\u786c\u76d8\u68c0\u67e5\u547d\u4ee4\\n    -e \u884c\u4e3a #\u53d1\u73b0\u9519\u8bef\u65f6\u7684\u884c\u4e3a\uff0c\u5305\u62eccontinue\uff08\u7ee7\u7eed\uff09\u3001remount-on\uff08\u6302\u8f7d\u6210\u53ea\u8bfb\uff09\u3001panic\uff08\u5bfc\u81f4\u5185\u6838\u4e0d\u7a33\u5b9a\uff09\\n    -f #\u53ca\u65f6\u53d1\u73b0\u9519\u8bef\uff0c\u4ecd\u5f3a\u5236\u6267\u884c\\n    -i \u65f6\u95f4 #\u68c0\u67e5\u7684\u65f6\u95f4\u95f4\u9694\uff0c d \u4e3a\u5929\u6570\uff0c m \u4e3a\u6708\u6570\uff0c w \u4e3a\u5468\u6570\\n    -j #\u65b0\u5efa ext3 \u65e5\u5fd7\u5f0f\u7684\u6587\u4ef6\u7cfb\u7edf\\n    -l #\u663e\u793a\u6587\u4ef6\u7cfb\u7edf\u7684\u76f8\u5173\u4fe1\u606f\\n    -L \u6807\u7b7e #\u6307\u5b9a\u6587\u4ef6\u7cfb\u7edf\u7684\u6807\u7b7e\u540d\u79f0\\n    -m \u4fdd\u7559\u6bd4\u4f8b #\u6307\u5b9a\u5bf9\u786c\u76d8\u7684\u4fdd\u7559\u6bd4\u4f8b\uff0c\u9ed8\u8ba4\u4e3a 5%\\n```\\n\\n### \u67e5\u770b\u6587\u4ef6\u7cfb\u7edf\u4fe1\u606f\\n\\n```bash\\nroot@VM-HK-w0x7ce:/home/ubuntu# tune2fs -l /dev/vda2\\ntune2fs 1.46.5 (30-Dec-2021)\\nFilesystem volume name:   Disk_One\\nLast mounted on:          /\\nFilesystem UUID:          7bccaefa-b039-4ff6-bd32-22dde0066c0b\\nFilesystem magic number:  0xEF53\\nFilesystem revision #:    1 (dynamic)\\nFilesystem features:      has_journal ext_attr resize_inode dir_index filetype needs_recovery extent 64bit flex_bg sparse_super large_file huge_file dir_nlink extra_isize metadata_csum\\nFilesystem flags:         signed_directory_hash \\nDefault mount options:    user_xattr acl\\nFilesystem state:         clean\\nErrors behavior:          Continue\\nFilesystem OS type:       Linux\\nInode count:              3276800\\nBlock count:              13106683\\nReserved block count:     0\\nOverhead clusters:        66747\\nFree blocks:              12042633\\nFree inodes:              3179795\\nFirst block:              0\\nBlock size:               4096\\nFragment size:            4096\\nGroup descriptor size:    64\\nReserved GDT blocks:      1019\\nBlocks per group:         32768\\nFragments per group:      32768\\nInodes per group:         8192\\nInode blocks per group:   512\\nFlex block group size:    16\\nFilesystem created:       Sun Apr 24 20:03:06 2022\\nLast mount time:          Thu Jul 28 09:59:27 2022\\nLast write time:          Fri Aug 12 12:45:27 2022\\nMount count:              11\\nMaximum mount count:      -1\\nLast checked:             Sun Apr 24 20:03:06 2022\\nCheck interval:           0 (<none>)\\nLifetime writes:          13 GB\\nReserved blocks uid:      0 (user root)\\nReserved blocks gid:      0 (group root)\\nFirst inode:              11\\nInode size:               256\\nRequired extra isize:     32\\nDesired extra isize:      32\\nJournal inode:            8\\nFirst orphan inode:       15612\\nDefault directory hash:   half_md4\\nDirectory Hash Seed:      06aeded3-785f-4aaa-8100-d3e54f41d421\\nJournal backup:           inode blocks\\nChecksum type:            crc32c\\nChecksum:                 0xf004571c\\n```\\n\\n### \u663e\u793a\u5377 & \u66f4\u6539\u5377\u540d\u5b57\\n\\n```bash\\nroot@VM-HK-w0x7ce:/home/ubuntu# tune2fs -l /dev/vda2 | grep volume\\nFilesystem volume name:   <none>\\nroot@VM-HK-w0x7ce:/home/ubuntu# tune2fs -L w0x7ce_disk_01 /dev/vda2\\ntune2fs 1.46.5 (30-Dec-2021)\\nroot@VM-HK-w0x7ce:/home/ubuntu# tune2fs -l /dev/vda2 | grep volume\\nFilesystem volume name:   w0x7ce_disk_01\\n```\\n\\n### \u6539\u53d8\u9884\u7559\u7a7a\u95f4\u6bd4\u4f8b\\n\\n```bash\\nroot@VM-HK-w0x7ce:/home/ubuntu# tune2fs -m 1 /dev/vda2\\ntune2fs 1.46.5 (30-Dec-2021)\\nSetting reserved blocks percentage to 1% (131066 blocks)\\n```\\n\\n## \u6848\u4f8b\u5206\u6790\\n\\n```bash\\nroot@slave01:~# df -h\\nFilesystem      Size  Used Avail Use% Mounted on\\nudev             63G     0   63G   0% /dev\\ntmpfs            13G  2.8M   13G   1% /run\\n/dev/sda4       221G  217G  4.8G  100% /\\ntmpfs            63G     0   63G   0% /dev/shm\\ntmpfs           5.0M     0  5.0M   0% /run/lock\\ntmpfs            63G     0   63G   0% /sys/fs/cgroup\\n/dev/loop1      1.9M  1.9M     0 100% /snap/shadowsocks-libev/508\\n/dev/loop5       56M   56M     0 100% /snap/core18/2538\\n/dev/loop4      114M  114M     0 100% /snap/core/13425\\n/dev/sda2       1.9G  100M  1.6G   6% /boot\\n/dev/sda1       952M  4.4M  947M   1% /boot/efi\\n/dev/sda3       215G  185G   20G  91% /home\\n/dev/sdb        3.6T  2.8T  668G  81% /storage\\n/dev/loop2      560M  560M     0 100% /snap/pycharm-community/293\\ntmpfs            13G     0   13G   0% /run/user/1000\\n/dev/loop3      224M  224M     0 100% /snap/code/104\\noverlay         221G  214G  4.8G  98% /var/lib/docker/overlay2/38ce2a2c8fadbb345c6c88e4023e2553a15580cef2852c121098679f6c4c2abf/merged\\noverlay         221G  214G  4.8G  98% /var/lib/docker/overlay2/28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797/merged\\noverlay         221G  214G  4.8G  98% /var/lib/docker/overlay2/2e5c611e27c16368f4383de5c8ac6ae560f34d64160f08eb9a9e1e433daa6ac4/merged\\ntmpfs            13G     0   13G   0% /run/user/1008\\noverlay         221G  214G  4.8G  98% /var/lib/docker/overlay2/84b5916793a1773e5835462fdd0467acb3576e94743cdc79c9e08504ac52ca31/merged\\noverlay         221G  214G  4.8G  98% /var/lib/docker/overlay2/5a7005e5cefa0a120fccb4855eab9bff258c6a950166faac2fd22c8cf2979484/merged\\noverlay         221G  214G  4.8G  98% /var/lib/docker/overlay2/3ab0a88edd37a7e5df24d68b4e5f59f0aee2f01419b9a6f82b982e3f7e89ef79/merged\\ntmpfs            13G     0   13G   0% /run/user/1011\\ntmpfs            13G     0   13G   0% /run/user/0\\n```\\n\\n### Step 1 \u5728\u6839\u76ee\u5f55\u4e0b\u5bfb\u627e \u5927\u4e8e 500M \u7684\u6587\u4ef6\\n\\n```bash\\nfind . -size +500M -print0 | xargs -0 du -h > /root/AA.log\\n```\\n\\n```bash\\nvim /root/AA.log\\n\\n#type \\n:g/{STRING}/d \\n#global \u6587\u5b57 delete \u5220\u9664 /storage /xxx \u4e0d\u76f8\u5173\u884c\\n\\n```\\n\\n\u7136\u540e \u5220\u9664\u5bf9\u5e94\u65e0\u7528\u6587\u4ef6\\n\\n### Step 2 \u6839\u636e Filesystem \u67e5\u770b\u53ef\u7591\u6587\u4ef6\u7cfb\u7edf\\n\\n#### overlay\\n\\n\u9996\u5148 \u5229\u7528mount \u67e5\u770b overlay \u5bf9\u5e94\u7684\u8def\u5f84\\n\\n```bash\\nroot@slave01:/var/lib/docker/overlay2# mount -t  overlay\\noverlay on /var/lib/docker/overlay2/38ce2a2c8fadbb345c6c88e4023e2553a15580cef2852c121098679f6c4c2abf/merged type overlay (rw,relatime,lowerdir=/var/lib/docker/overlay2/l/VPU3WEBK7ZSS4CAIEG2WSIDEWG:/var/lib/docker/overlay2/l/HJSGHVFPEIXPODVB2G6SGCVUKX:/var/lib/docker/overlay2/l/LQIBNX7UBIZU2AKHNK2G6V2KLV:/var/lib/docker/overlay2/l/KGEOYKQ734GFQEKUWZCSE6KFSL,upperdir=/var/lib/docker/overlay2/38ce2a2c8fadbb345c6c88e4023e2553a15580cef2852c121098679f6c4c2abf/diff,workdir=/var/lib/docker/overlay2/38ce2a2c8fadbb345c6c88e4023e2553a15580cef2852c121098679f6c4c2abf/work)\\noverlay on /var/lib/docker/overlay2/28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797/merged type overlay (rw,relatime,lowerdir=/var/lib/docker/overlay2/l/DHEKFL6D46UEDBR5PHWHN6UEHH:/var/lib/docker/overlay2/l/SNN7A2T7ZBXYKW2SXBQKSIX67C:/var/lib/docker/overlay2/l/FYK374GFEJZGCQQW2ALAIRHVSO:/var/lib/docker/overlay2/l/7HACMERHIGQR7JZQQGJNCKNUS7:/var/lib/docker/overlay2/l/QS6R2DYIBTBQRHOVGB4VHAWPV6:/var/lib/docker/overlay2/l/FKTA7IQF4JNBOFNRG353Q4T22C:/var/lib/docker/overlay2/l/IAWRXYRJ4V67KBVYV2TI5M7M4M:/var/lib/docker/overlay2/l/Y4G4HGVVSYPCSPGILFDLB5ITYI:/var/lib/docker/overlay2/l/STDB5J7V3YO3XUK5XNT7D6FEOG:/var/lib/docker/overlay2/l/YPRRYJ5PGWZ6BQ5NSLMEBYPB4I:/var/lib/docker/overlay2/l/RCUOIVTEDAON5N3DP3BVUQVXBH:/var/lib/docker/overlay2/l/U2F73KIPTHDRJA7NZVNJT4KHLI,upperdir=/var/lib/docker/overlay2/28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797/diff,workdir=/var/lib/docker/overlay2/28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797/work)\\n```\\n\\n\u7559\u610f\u5230\\n\\n```bash\\n/var/lib/docker/overlay2\\n```\\n\\npushd \u8fdb\u76f8\u5173\u76ee\u5f55\\n\\n```bash\\ndu -h --max-depth=1\\n```\\n\\n\u5982\u4e0b\u8f93\u51fa\\n\\n```bash\\nroot@slave01:/var/lib/docker/overlay2# du -h --max-depth=1\\n1.7G    ./7129b703bd58ba9d0217e3770050b5bfba57cfef6548eda21f1dd3b9a3c572bf\\n40K     ./28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797-init\\n24K     ./86e5ce373c451d537975223605338f787a218d361a7292ea93e1ab667e28e644\\n3.8G    ./4718a3ed58149a869dea349ae80c487584a8ab3dd16a5d9f385eaf15bdb18a3a\\n241M    ./38ce2a2c8fadbb345c6c88e4023e2553a15580cef2852c121098679f6c4c2abf\\n40K     ./f39b75e04364d91c1ac074e3b797a670b9f8d419e693890b66967438fc7427e1-init\\n78M     ./5cf6779b3682b5f40be1100134d3d6d6d763f1cc96193ad87b20ec20bbab301f\\n292K    ./0df64755c145230dfad62016a000dc0d16302c868bf36e1c45af249af28eeaaa\\n18G     ./f187076c8cc73e4212e7b59944af7665800961898f345c54d7210adddacdc0fe\\n18M     ./bfd5b5212714fa1ea875934e2fcdadc77d295fc614ead0f5eb69b2bc58440a79\\n14G     ./84b5916793a1773e5835462fdd0467acb3576e94743cdc79c9e08504ac52ca31\\n749M    ./b23680886239a3b89d53948e1311bffa1c0e0dbaa0649f9dfc6df62b75c5c67d\\n32K     ./48477f6ae9617edff67f43e59c9b546bb1a228fa0212231ac662b1a0f2cfe1d5\\n32K     ./16ce11a5b972bba2b98cacd5609674e944e82770a79808040a297b70f951d238\\n116M    ./1b207660bbd786106a86ad125b12fc0525ec51d602a6cfef8e3ff5f6567f7cd3\\n36K     ./34253942384fd03637adbd7b959fab29e8e60c421f071e2a14f72452db97f1eb\\n18M     ./94d362e3e7a1e6efee5d373008a19e9e3cc4578541cbb140a13eabba3ff66a96\\n70G     ./28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797\\n40K     ./36affaa6f22adb0d45e6b8f5c3ad9c92fbf50f0c53fc6518465c86a52429990f-init\\n29M     ./80c6d1117ca7c8b64095c1e1f18bd7df9d916347031b6bd403521103443b7505\\n33M     ./8dd21e66d906381cbb62062e2aac36e863ad1e373c39facd9f3764a9144c09c4\\n11G     ./3ab0a88edd37a7e5df24d68b4e5f59f0aee2f01419b9a6f82b982e3f7e89ef79\\n244G    .\\n```\\n\\n\u8fd9\u65f6 \u6211\u4eec\u53ef\u4ee5\u5229\u7528grep \u6765\u68c0\u7d22\u5bf9\u5e94\u7684docker\\n\\n```bash\\ndocker ps -q | xargs docker inspect --format \'{{.State.Pid}}, {{.Name}}, {{.GraphDriver.Data.WorkDir}}\' | grep \\"x\\"\\n```\\n\\n\u5982id\u542b3\u7684\u5bb9\u5668\\n\\n```bash\\nroot@slave01:/var/lib/docker/overlay2# docker ps -q | xargs docker inspect --format \'{{.State.Pid}}, {{.Name}}, {{.GraphDriver.Data.WorkDir}}\' | grep \\"3\\"\\n4637, /wanta7780, /var/lib/docker/overlay2/2e5c611e27c16368f4383de5c8ac6ae560f34d64160f08eb9a9e1e433daa6ac4/work\\n17106, /nn2, /var/lib/docker/overlay2/3ab0a88edd37a7e5df24d68b4e5f59f0aee2f01419b9a6f82b982e3f7e89ef79/work\\n15986, /chz, /var/lib/docker/overlay2/84b5916793a1773e5835462fdd0467acb3576e94743cdc79c9e08504ac52ca31/work\\n4384, /xpq, /var/lib/docker/overlay2/28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797/work\\n38783, /portainer, /var/lib/docker/overlay2/38ce2a2c8fadbb345c6c88e4023e2553a15580cef2852c121098679f6c4c2abf/work\\n```\\n\\n\u5982\u679c\u627e\u4e0d\u5230\u76f8\u5173\u7684\u5bb9\u5668\uff0c\u53ef\u80fd\u8fd9\u5c31\u662f\u4e4b\u524d\u7684\u6b8b\u7559\u6587\u4ef6\uff0c\u76f4\u63a5 \u5220\u9664\u5220\u9664\u5373\u53ef\u3002\\n\\n\u901a\u8fc7 df -h \u6211\u4eec\u53ef\u4ee5\u770b\u5230 Used \u4e0b\u964d\u4e86\u5f88\u591a\\n\\n```bash\\nroot@slave01:/var/lib/docker/overlay2# df -h\\nFilesystem      Size  Used Avail Use% Mounted on\\nudev             63G     0   63G   0% /dev\\ntmpfs            13G  2.9M   13G   1% /run\\n/dev/sda4       221G  214G  4.8G  100% /\\n```\\n\\n\u6700\u540e\u4fee\u6539\u9884\u7559\u7a7a\u95f4\u4e3a 1%\\n\\n```bash\\ntune2fs -m 1 /dev/sda4\\n```\\n\\n```bash\\ndf -h\\n\\n##\u53ef\u4ee5\u770b\u5230\\n/dev/sda4       221G  214G  4.8G  98% /\\n```\\n\\n```bash\\nroot@slave01:/var/lib/docker/overlay2# sudo tune2fs -l /dev/sda4 | grep -i \'block count\'\\nBlock count:              59107328\\nReserved block count:     591073\\n```\\n\\n\u53ef\u4ee5\u770b\u51fa\u53ef\u7528\u7a7a\u95f4\u53d8\u591a\uff0c\u5b8c\u6210\u7a7a\u95f4\u91ca\u653e\\n\\n# Tips \\n\\n## xargs (eXtended ARGuments\uff09\\n\\n1. xargs \u662f\u7ed9\u547d\u4ee4\u4f20\u9012\u53c2\u6570\u7684\u4e00\u4e2a\u8fc7\u6ee4\u5668\uff0c\u4e5f\u662f\u7ec4\u5408\u591a\u4e2a\u547d\u4ee4\u7684\u4e00\u4e2a\u5de5\u5177\u3002\\n\\n2. xargs \u53ef\u4ee5\u5c06\u7ba1\u9053\u6216\u6807\u51c6\u8f93\u5165\uff08stdin\uff09\u6570\u636e\u8f6c\u6362\u6210\u547d\u4ee4\u884c\u53c2\u6570\uff0c\u4e5f\u80fd\u591f\u4ece\u6587\u4ef6\u7684\u8f93\u51fa\u4e2d\u8bfb\u53d6\u6570\u636e\u3002\\n\\n3. xargs \u4e5f\u53ef\u4ee5\u5c06\u5355\u884c\u6216\u591a\u884c\u6587\u672c\u8f93\u5165\u8f6c\u6362\u4e3a\u5176\u4ed6\u683c\u5f0f\uff0c\u4f8b\u5982\u591a\u884c\u53d8\u5355\u884c\uff0c\u5355\u884c\u53d8\u591a\u884c\u3002\\n\\n4. xargs \u9ed8\u8ba4\u7684\u547d\u4ee4\u662f echo\uff0c\u8fd9\u610f\u5473\u7740\u901a\u8fc7\u7ba1\u9053\u4f20\u9012\u7ed9 xargs \u7684\u8f93\u5165\u5c06\u4f1a\u5305\u542b\u6362\u884c\u548c\u7a7a\u767d\uff0c\u4e0d\u8fc7\u901a\u8fc7 xargs \u7684\u5904\u7406\uff0c\u6362\u884c\u548c\u7a7a\u767d\u5c06\u88ab\u7a7a\u683c\u53d6\u4ee3\u3002\\n\\n5. xargs \u662f\u4e00\u4e2a\u5f3a\u6709\u529b\u7684\u547d\u4ee4\uff0c\u5b83\u80fd\u591f\u6355\u83b7\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u51fa\uff0c\u7136\u540e\u4f20\u9012\u7ed9\u53e6\u5916\u4e00\u4e2a\u547d\u4ee4\u3002\\n\\nxargs \u4e00\u822c\u662f\u548c\u7ba1\u9053\u4e00\u8d77\u4f7f\u7528\u3002\\n\\n```bash\\n\u547d\u4ee4\u683c\u5f0f\uff1a\\nsomecommand |xargs -item  command\\n\u53c2\u6570\uff1a\\n\\n-a file \u4ece\u6587\u4ef6\u4e2d\u8bfb\u5165\u4f5c\u4e3a stdin\\n\\n-e flag \uff0c\u6ce8\u610f\u6709\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u662f-E\uff0cflag\u5fc5\u987b\u662f\u4e00\u4e2a\u4ee5\u7a7a\u683c\u5206\u9694\u7684\u6807\u5fd7\uff0c\u5f53xargs\u5206\u6790\u5230\u542b\u6709flag\u8fd9\u4e2a\u6807\u5fd7\u7684\u65f6\u5019\u5c31\u505c\u6b62\u3002\\n\\n-p \u5f53\u6bcf\u6b21\u6267\u884c\u4e00\u4e2aargument\u7684\u65f6\u5019\u8be2\u95ee\u4e00\u6b21\u7528\u6237\u3002\\n\\n-n num \u540e\u9762\u52a0\u6b21\u6570\uff0c\u8868\u793a\u547d\u4ee4\u5728\u6267\u884c\u7684\u65f6\u5019\u4e00\u6b21\u7528\u7684argument\u7684\u4e2a\u6570\uff0c\u9ed8\u8ba4\u662f\u7528\u6240\u6709\u7684\u3002\\n\\n-t \u8868\u793a\u5148\u6253\u5370\u547d\u4ee4\uff0c\u7136\u540e\u518d\u6267\u884c\u3002\\n\\n-i \u6216\u8005\u662f-I\uff0c\u8fd9\u5f97\u770blinux\u652f\u6301\u4e86\uff0c\u5c06xargs\u7684\u6bcf\u9879\u540d\u79f0\uff0c\u4e00\u822c\u662f\u4e00\u884c\u4e00\u884c\u8d4b\u503c\u7ed9 {}\uff0c\u53ef\u4ee5\u7528 {} \u4ee3\u66ff\u3002\\n\\n-r no-run-if-empty \u5f53xargs\u7684\u8f93\u5165\u4e3a\u7a7a\u7684\u65f6\u5019\u5219\u505c\u6b62xargs\uff0c\u4e0d\u7528\u518d\u53bb\u6267\u884c\u4e86\u3002\\n\\n-s num \u547d\u4ee4\u884c\u7684\u6700\u5927\u5b57\u7b26\u6570\uff0c\u6307\u7684\u662f xargs \u540e\u9762\u90a3\u4e2a\u547d\u4ee4\u7684\u6700\u5927\u547d\u4ee4\u884c\u5b57\u7b26\u6570\u3002\\n\\n-L num \u4ece\u6807\u51c6\u8f93\u5165\u4e00\u6b21\u8bfb\u53d6 num \u884c\u9001\u7ed9 command \u547d\u4ee4\u3002\\n\\n-l \u540c -L\u3002\\n\\n-d delim \u5206\u9694\u7b26\uff0c\u9ed8\u8ba4\u7684xargs\u5206\u9694\u7b26\u662f\u56de\u8f66\uff0cargument\u7684\u5206\u9694\u7b26\u662f\u7a7a\u683c\uff0c\u8fd9\u91cc\u4fee\u6539\u7684\u662fxargs\u7684\u5206\u9694\u7b26\u3002\\n\\n-x exit\u7684\u610f\u601d\uff0c\u4e3b\u8981\u662f\u914d\u5408-s\u4f7f\u7528\\n```\\n\\nexample\\n\\n```bash\\nfind ./ -name \\"systemd*\\" | xargs -i cp -r {} {}.bak #\u5bfb\u627e systemd\u5f00\u5934\u6587\u4ef6\u5e76\u5907\u4efd\\n```"},{"id":"/Colly-Spider-Get-CoinMarket-Data","metadata":{"permalink":"/zh-TW/blog/Colly-Spider-Get-CoinMarket-Data","editUrl":"https://github.com/tianrking/tianrking.github.io/edit/v3.0/blog/2022-03-17-Colly-Spider-Get-CoinMarket-Data.md","source":"@site/blog/2022-03-17-Colly-Spider-Get-CoinMarket-Data.md","title":"\u6578\u5b57\u8ca8\u5e63\u884c\u60c5\u722c\u53d6 Colly\u5be6\u6230","description":"Colly & coinmarket","date":"2022-03-17T00:00:00.000Z","formattedDate":"2022\u5e743\u670817\u65e5","tags":[{"label":"\u722c\u866b","permalink":"/zh-TW/blog/tags/\u722c\u866b"},{"label":"\u5be6\u6230","permalink":"/zh-TW/blog/tags/\u5be6\u6230"},{"label":"\u6578\u5b57\u8ca8\u5e63","permalink":"/zh-TW/blog/tags/\u6578\u5b57\u8ca8\u5e63"},{"label":"Golang","permalink":"/zh-TW/blog/tags/golang"},{"label":"Spider","permalink":"/zh-TW/blog/tags/spider"},{"label":"Colly","permalink":"/zh-TW/blog/tags/colly"}],"readingTime":3.72,"hasTruncateMarker":false,"authors":[{"name":"w0x7ce","title":"Maintainer of w0x7ce.eu","url":"https://github.com/tiarnking","imageURL":"https://github.com/tianrking.png","key":"w0x7ce"}],"frontMatter":{"slug":"/Colly-Spider-Get-CoinMarket-Data","title":"\u6578\u5b57\u8ca8\u5e63\u884c\u60c5\u722c\u53d6 Colly\u5be6\u6230","authors":["w0x7ce"],"tags":["\u722c\u866b","\u5be6\u6230","\u6578\u5b57\u8ca8\u5e63","Golang","Spider","Colly"]},"prevItem":{"title":"Clean Up Disk Space in Linux","permalink":"/zh-TW/blog/Clean-Up-Disk-Space-in-Linux"},"nextItem":{"title":"Ab\u538b\u529b\u6d4b\u8bd5","permalink":"/zh-TW/blog/Ab\u538b\u529b\u6d4b\u8bd5"}},"content":"## Colly & coinmarket\\n\\n### Colly \u662f\u4ec0\u4e48\uff0c\u4ec0\u4e48\u8981\u7528\u5b83\uff0c\u600e\u6837\u5229\u7528\u5b83\u8fdb\u884c\u91cf\u5316\u76f8\u5173\u7684\u5e94\u7528\\n\\ncolly \u662f\u7528Go \u8bed\u8a00\u7f16\u5199\u7684\u529f\u80fd\u5f3a\u5927\u7684\u722c\u866b\u6846\u67b6\u3002 \u5b83\u63d0\u4f9b\u7b80\u6d01\u7684API\uff0c\u62e5\u6709\u5f3a\u52b2\u7684\u6027\u80fd\uff0c\u53ef\u4ee5\u81ea\u52a8\u5904\u7406cookie&session\uff0c\u8fd8\u6709\u63d0\u4f9b\u7075\u6d3b\u7684\u6269\u5c55\u673a\u5236\\n\\nColly \u672c\u8eab\u4e0d\u80fd\u505a\u91cf\u5316 \u4f46\u662f Colly\u53ef\u4ee5\u66f4\u9ad8\u6548\u7684\u5e2e\u52a9\u6211\u4eec\u91c7\u96c6\u6570\u636e\uff0c\u4e3a\u6211\u4eec\u63d0\u4f9b\u91cf\u5316\u7684\u5f39\u836f\\n\\n## Colly\u7684\u4f7f\u7528\\n\\n### Colly\u7684\u6267\u884c\u987a\u5e8f\\n\\ncolly\u51fd\u5f0f\u4f5c\u7528\u9806\u5e8f(Call order of callbacks)\\n\\n1. OnRequest\\n   \u5728\u53d1\u8d77\u8bf7\u6c42\u524d \u53ef\u4ee5\u8fdb\u884cHeader\u76f8\u5173\u7684\u8bbe\u5b9a\\n2. OnError\\n   \u5982\u679c\u8bf7\u6c42\u65f6\u5019\u51fa\u73b0\u9519\u8bef \u5728\u8fd9\u91cc\u6355\u83b7\u5b83\\n3. OnResponseHeaders\\n   \u6536\u5230\u54cd\u5e94\u6807\u5934\u65f6\u5019 \u6211\u4eec\u9700\u8981\u505a\u7684\u4e1c\u897f\u5199\u5728\u8fd9\u91cc\\n4. OnResponse\\n   \u6536\u5230\u54cd\u5e94\u56de\u590d\u7684\u65f6\u5019 \u6211\u4eec\u8981\u505a\u7684\u4e8b\u60c5 \u5199\u5728\u8fd9\u91cc\\n5. OnHTML\\n   \u6536\u5230\u76f8\u5e94\u4e3aHTML\u683c\u5f0f\u65f6\u5019\uff08\u665a\u4e8eOnResponse\uff09\uff0c\u8fdb\u884cgoquerySelector\u7be9\u9078\\n6. OnXML\\n   \u6536\u5230\u76f8\u5e94\u4e3aXML\u683c\u5f0f\u65f6\u5019\uff08\u665a\u4e8eOnHTML\uff09\uff0c\u8fdb\u884cxpathQuery\u7b5b\u9009\\n7. OnScraped\\n   \u6293\u53d6\u7f51\u9875\uff08\u7c7b\u4f3c\u4e8eOnResponse\uff09\uff0c\u4f46\u5728\u6700\u540e\u624d\u8fdb\u884c\u8c03\u7528\\n\\n### Colly \u7684\u5b89\u88c5\\n\\n    ``bash     # \u5b89\u88c5Golang     wget \\"https://go.dev/dl/go1.18.linux-amd64.tar.gz\\"     rm -rf /usr/local/go && tar -C /usr/local -xzf go1.18.linux-amd64.tar.gz     export PATH=$PATH:/usr/local/go/bin     go version     ``\\n\\n    ``bash     # \u542f\u7528 Go Modules \u529f\u80fd     go env -w GO111MODULE=on     # 1. \u4e03\u725b CDN     go env -w  GOPROXY=https://goproxy.cn,direct     # 2. \u963f\u91cc\u4e91     go env -w GOPROXY=https://mirrors.aliyun.com/goproxy/,direct     # 3. \u5b98\u65b9     go env -w  GOPROXY=https://goproxy.io,direct     ``\\n\\n    ``bash     mkdir Crawl && pushd Crawl     go mod init     go get -u github.com/gocolly/colly/v2     go mod tidy     ``\\n\\n### \u7f51\u7edc\u73af\u5883\u7684\u914d\u7f6e\\n\\n    \u56e0\u4e3a\u5728\u56fd\u5185 \u65e0\u6cd5\u76f4\u63a5\u8fde\u63a5\u4e0a\u6570\u5b57\u8d27\u5e01\u7684\u7f51\u7ad9 \u6240\u4ee5 \u6211\u4eec\u9700\u8981\u914d\u7f6e\u4ee3\u7406, \u6211\u4eec\u7684\u672c\u5730\u4ee3\u7406\u4e3a socks5:/127.0.0.1:12999\\n\\n    \u5982\u679c\u6ca1\u6709\u642d\u5efa \u53ef\u4ee5 \u5c1d\u8bd5\u5728\u670d\u52a1\u5668\u4e0a\u7528snap \u5b89\u88c5 shadowsocks\\n\\n    ``bash     sudo apt-get update && sudo apt-get upgrade -y     sudo apt install snapd     sudo snap install shadowsocks-libev     sudo snap run shadowsocks-libev.ss-local -s server_ip -p server_port -l local_port -b 0.0.0.0 -k passwd -m method     ``\\n\\n### \u5b8c\u6574\u4ee3\u7801\\n\\n    ```golang\\n        package main\\n\\n    import (\\n            \\"fmt\\"\\n            \\"log\\"\\n            \\"strconv\\"\\n\\n    colly \\"github.com/gocolly/colly/v2\\"\\n            \\"github.com/gocolly/colly/v2/proxy\\"\\n            excelize \\"github.com/xuri/excelize/v2\\"\\n        )\\n\\n    type GG struct {\\n            _url       string\\n            _name      string\\n            _now_price string\\n        }\\n\\n    func main() {\\n\\n    num := 0\\n            f := excelize.NewFile()\\n\\n    // Instantiate default collector\\n            c := colly.NewCollector()\\n            // Rotate two socks5 proxies\\n            rp, err := proxy.RoundRobinProxySwitcher(\\"socks5://127.0.0.1:12999\\", \\"socks5://127.0.0.1:12999\\")\\n            if err != nil {\\n                log.Fatal(err)\\n            }\\n            // \u3010\u8bbe\u7f6e\u4ee3\u7406IP\u3011 \uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u8f6e\u8be2ip\u65b9\u5f0f\\n            c.SetProxyFunc(rp)\\n\\n    c.OnRequest(func(r *colly.Request) {\\n                r.Headers.Set(\\"Authority\\", \\"coinmarketcap.com\\")\\n                r.Headers.Set(\\"Cache-Control\\", \\"max-age=0\\")\\n                r.Headers.Set(\\"Sec-Ch-Ua\\", \\"\\\\\\" Not A;Brand\\\\\\";v=\\\\\\"99\\\\\\", \\\\\\"Chromium\\\\\\";v=\\\\\\"99\\\\\\", \\\\\\"Microsoft Edge\\\\\\";v=\\\\\\"99\\\\\\"\\")\\n                r.Headers.Set(\\"Sec-Ch-Ua-Mobile\\", \\"?0\\")\\n                r.Headers.Set(\\"Sec-Ch-Ua-Platform\\", \\"\\\\\\"Windows\\\\\\"\\")\\n                r.Headers.Set(\\"Upgrade-Insecure-Requests\\", \\"1\\")\\n                r.Headers.Set(\\"User-Agent\\", \\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36 Edg/99.0.1150.39\\")\\n                r.Headers.Set(\\"Accept\\", \\"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\\")\\n                r.Headers.Set(\\"Sec-Fetch-Site\\", \\"same-origin\\")\\n                r.Headers.Set(\\"Sec-Fetch-Mode\\", \\"navigate\\")\\n                r.Headers.Set(\\"Sec-Fetch-User\\", \\"?2\\")\\n                r.Headers.Set(\\"Sec-Fetch-Dest\\", \\"document\\")\\n                r.Headers.Set(\\"Referer\\", \\"https://coinmarketcap.com/all/views/all/\\")\\n                r.Headers.Set(\\"Accept-Language\\", \\"zh-TW,zh-HK;q=0.9,zh;q=0.8,en;q=0.7,zh-CN;q=0.6,en-GB;q=0.5,en-US;q=0.4\\")\\n\\n    })\\n\\n    c.OnResponse(func(r *colly.Response) {\\n\\n    })\\n\\n    c.OnHTML(\\".cmc-table__table-wrapper-outer tbody tr\\", func(e *colly.HTMLElement) {\\n\\n    DOGE := GG{}\\n                if len(e.ChildText(\\"td[class=\'name-cell\']\\")) == 0 {\\n                    DOGE._url = \\"https://coinmarketcap.com\\" + e.ChildAttr(\\"a[class=\'cmc-link\']\\", \\"href\\")\\n                    DOGE._name = e.ChildText(\\"a[class=\'cmc-table__column-name--name cmc-link\']\\")\\n                } else {\\n                    DOGE._url = \\"https://coinmarketcap.com\\" + e.ChildAttr(\\"a[class=\'cmc-link\']\\", \\"href\\")\\n                    DOGE._name = e.ChildText(\\"td[class=\'name-cell\']\\")\\n                }\\n\\n    c_coin := colly.NewCollector()\\n                c_coin.SetProxyFunc(rp)\\n                c_coin.OnRequest(func(r *colly.Request) {\\n                    r.Headers.Set(\\"Authority\\", \\"coinmarketcap.com\\")\\n                    r.Headers.Set(\\"Cache-Control\\", \\"max-age=0\\")\\n                    r.Headers.Set(\\"Sec-Ch-Ua\\", \\"\\\\\\" Not A;Brand\\\\\\";v=\\\\\\"99\\\\\\", \\\\\\"Chromium\\\\\\";v=\\\\\\"99\\\\\\", \\\\\\"Microsoft Edge\\\\\\";v=\\\\\\"99\\\\\\"\\")\\n                    r.Headers.Set(\\"Sec-Ch-Ua-Mobile\\", \\"?0\\")\\n                    r.Headers.Set(\\"Sec-Ch-Ua-Platform\\", \\"\\\\\\"Windows\\\\\\"\\")\\n                    r.Headers.Set(\\"Upgrade-Insecure-Requests\\", \\"1\\")\\n                    r.Headers.Set(\\"User-Agent\\", \\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36 Edg/99.0.1150.39\\")\\n                    r.Headers.Set(\\"Accept\\", \\"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\\")\\n                    r.Headers.Set(\\"Sec-Fetch-Site\\", \\"same-origin\\")\\n                    r.Headers.Set(\\"Sec-Fetch-Mode\\", \\"navigate\\")\\n                    r.Headers.Set(\\"Sec-Fetch-User\\", \\"?2\\")\\n                    r.Headers.Set(\\"Sec-Fetch-Dest\\", \\"document\\")\\n                    r.Headers.Set(\\"Referer\\", \\"https://coinmarketcap.com/all/views/all/\\")\\n                    r.Headers.Set(\\"Accept-Language\\", \\"zh-TW,zh-HK;q=0.9,zh;q=0.8,en;q=0.7,zh-CN;q=0.6,en-GB;q=0.5,en-US;q=0.4\\")\\n                })\\n                c_coin.OnResponse(func(r *colly.Response) {\\n                })\\n                c_coin.OnHTML(\\"div[class=\'priceValue \']\\", func(r *colly.HTMLElement) {\\n                    DOGE._now_price = string(r.Text)\\n                })\\n                c_coin.Visit(DOGE._url)\\n\\n    fmt.Print(DOGE._name, \\"     \\")\\n                fmt.Print(DOGE._now_price, \\"     \\")\\n                fmt.Println(DOGE._url)\\n\\n    var A_num string = \\"A\\" + strconv.Itoa(num)\\n                B_price := \\"B\\" + strconv.Itoa(num)\\n                C_url := \\"C\\" + strconv.Itoa(num)\\n\\n    f.SetCellValue(\\"Sheet1\\", A_num, DOGE._name)\\n                f.SetCellValue(\\"Sheet1\\", B_price, DOGE._now_price)\\n                f.SetCellValue(\\"Sheet1\\", C_url, DOGE._url)\\n\\n    if err := f.SaveAs(\\"Coin_price.xlsx\\"); err != nil {\\n                    fmt.Println(err)\\n                }\\n                num += 1\\n\\n    })\\n\\n    c.Visit(\\"https://coinmarketcap.com/all/views/all/\\")\\n\\n    }\\n    ```"},{"id":"Ab\u538b\u529b\u6d4b\u8bd5","metadata":{"permalink":"/zh-TW/blog/Ab\u538b\u529b\u6d4b\u8bd5","editUrl":"https://github.com/tianrking/tianrking.github.io/edit/v3.0/blog/2022-03-15-Ab\u538b\u529b\u6d4b\u8bd5.md","source":"@site/blog/2022-03-15-Ab\u538b\u529b\u6d4b\u8bd5.md","title":"Ab\u538b\u529b\u6d4b\u8bd5","description":"ab install","date":"2022-03-15T00:00:00.000Z","formattedDate":"2022\u5e743\u670815\u65e5","tags":[{"label":"misc","permalink":"/zh-TW/blog/tags/misc"},{"label":"Linux","permalink":"/zh-TW/blog/tags/linux"}],"readingTime":6.32,"hasTruncateMarker":false,"authors":[{"name":"w0x7ce","title":"Maintainer of w0x7ce.eu","url":"https://github.com/tiarnking","imageURL":"https://github.com/tianrking.png","key":"w0x7ce"}],"frontMatter":{"slug":"Ab\u538b\u529b\u6d4b\u8bd5","title":"Ab\u538b\u529b\u6d4b\u8bd5","authors":["w0x7ce"],"tags":["misc","Linux"]},"prevItem":{"title":"\u6578\u5b57\u8ca8\u5e63\u884c\u60c5\u722c\u53d6 Colly\u5be6\u6230","permalink":"/zh-TW/blog/Colly-Spider-Get-CoinMarket-Data"},"nextItem":{"title":"\u722c\u87f2\u6846\u67b6 Colly","permalink":"/zh-TW/blog/Colly-Get-start"}},"content":"## ab install\\n\\n```bash\\nsudo apt-get install apache2-utils\\n```\\n\\n## ab \u53c2\u6570\\n\\n```bash\\n-A auth-username:password\\n\u4e3a\u670d\u52a1\u5668\u63d0\u4f9bBASIC\u8eab\u4efd\u9a8c\u8bc1\u51ed\u636e\u3002\u7528\u6237\u540d\u548c\u5bc6\u7801\u7531\u4e00\u4e2a\u5355\u72ec\u5206\u9694\uff0c:\u5e76\u901a\u8fc7wire base64\u7f16\u7801\u53d1\u9001\u3002\u65e0\u8bba\u670d\u52a1\u5668\u662f\u5426\u9700\u8981\u5b83\uff0c\u90fd\u4f1a\u53d1\u9001\u8be5\u5b57\u7b26\u4e32\uff08\u5373\uff0c\u5df2\u53d1\u9001401\u8ba4\u8bc1\uff09\u3002\\n-b windowsize\\nTCP\u53d1\u9001/\u63a5\u6536\u7f13\u51b2\u533a\u7684\u5927\u5c0f\uff0c\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u3002\\n-B local-address\\n\u5728\u8fdb\u884c\u4f20\u51fa\u8fde\u63a5\u65f6\u7ed1\u5b9a\u7684\u5730\u5740\u3002\\n-c concurrency\\n\u4e00\u6b21\u6267\u884c\u591a\u4e2a\u8bf7\u6c42\u7684\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u662f\u4e00\u6b21\u4e00\u4e2a\u8bf7\u6c42\u3002\\n-C cookie-name=value\\nCookie:\u5728\u8bf7\u6c42\u4e2d\u6dfb\u52a0\u4e00\u884c\u3002\u8bba\u8bc1\u901a\u5e38\u662f\u4e00 \u5bf9\u7684\u5f62\u5f0f\u3002\u8be5\u5b57\u6bb5\u662f\u53ef\u91cd\u590d\u7684\u3002name=value\\n-d\\n\u4e0d\u663e\u793a\u201cXX [ms]\u8868\u4e2d\u63d0\u4f9b\u7684\u767e\u5206\u6bd4\u201d\u3002\uff08\u9057\u4ea7\u652f\u6301\uff09\u3002\\n-e csv-file\\n\u5199\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u503c\uff08CSV\uff09\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u4e3a\u6bcf\u4e2a\u767e\u5206\u6bd4\uff08\u4ece1\uff05\u5230100\uff05\uff09\u63d0\u4f9b\u670d\u52a1\u8be5\u767e\u5206\u6bd4\u8bf7\u6c42\u6240\u7528\u7684\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\u3002\u8fd9\u901a\u5e38\u6bd4\'gnuplot\'\u6587\u4ef6\u66f4\u6709\u7528; \u56e0\u4e3a\u7ed3\u679c\u5df2\u7ecf\u201c\u88c5\u7bb1\u201d\u4e86\u3002\\n-f protocol\\n\u6307\u5b9aSSL / TLS\u534f\u8bae\uff08SSL2\uff0cSSL3\uff0cTLS1\uff0cTLS1.1\uff0cTLS1.2\u6216ALL\uff09\u30022.4.4\u53ca\u66f4\u9ad8\u7248\u672c\u4e2d\u63d0\u4f9b\u4e86TLS1.1\u548cTLS1.2\u652f\u6301\u3002\\n-g gnuplot-file\\n\u5c06\u6240\u6709\u6d4b\u91cf\u503c\u5199\u4e3a\'gnuplot\'\u6216TSV\uff08Tab\u5355\u72ec\u503c\uff09\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u5bfc\u5165\u5230Gnuplot\uff0cIDL\uff0cMathematica\uff0cIgor\u751a\u81f3Excel\u7b49\u8f6f\u4ef6\u5305\u4e2d\u3002\u6807\u7b7e\u4f4d\u4e8e\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u3002\\n-h\\n\u663e\u793a\u4f7f\u7528\u4fe1\u606f\u3002\\n-H custom-header\\n\u5728\u8bf7\u6c42\u4e2d\u9644\u52a0\u989d\u5916\u7684\u6807\u5934\u3002\u8be5\u53c2\u6570\u662f\u5178\u578b\u5730\u5728\u4e00\u4e2a\u6709\u6548\u62a5\u5934\u7ebf\u7684\u5f62\u5f0f\uff0c\u542b\u6709\u4e00\u4e2a\u5192\u53f7\u5206\u9694\u7684\u5b57\u6bb5\u503c\u5bf9\uff08\u5373\uff0c\\"Accept-Encoding: zip/zop;8bit\\"\uff09\u3002\\n-i\\n\u505aHEAD\u8bf7\u6c42\u800c\u4e0d\u662fGET\u3002\\n-k\\n\u542f\u7528HTTP KeepAlive\u529f\u80fd\uff0c\u5373\u5728\u4e00\u4e2aHTTP\u4f1a\u8bdd\u4e2d\u6267\u884c\u591a\u4e2a\u8bf7\u6c42\u3002\u9ed8\u8ba4\u503c\u662f\u6ca1\u6709KeepAlive\u3002\\n-l\\n\u5982\u679c\u54cd\u5e94\u7684\u957f\u5ea6\u4e0d\u6052\u5b9a\uff0c\u8bf7\u4e0d\u8981\u62a5\u544a\u9519\u8bef\u3002\u8fd9\u5bf9\u52a8\u6001\u9875\u9762\u5f88\u6709\u7528\u3002\u9002\u7528\u4e8e2.4.7\u53ca\u66f4\u9ad8\u7248\u672c\u3002\\n-m HTTP-method\\n\u8bf7\u6c42\u7684\u81ea\u5b9a\u4e49HTTP\u65b9\u6cd5\u3002\u9002\u7528\u4e8e2.4.10\u53ca\u66f4\u9ad8\u7248\u672c\u3002\\n-n requests\\n\u4e3a\u57fa\u51c6\u6d4b\u8bd5\u4f1a\u8bdd\u6267\u884c\u7684\u8bf7\u6c42\u6570\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u53ea\u6267\u884c\u5355\u4e2a\u8bf7\u6c42\uff0c\u8fd9\u901a\u5e38\u4f1a\u5bfc\u81f4\u975e\u4ee3\u8868\u6027\u7684\u57fa\u51c6\u6d4b\u8bd5\u7ed3\u679c\u3002\\n-p POST-file\\n\u5305\u542bPOST\u6570\u636e\u7684\u6587\u4ef6\u3002\u8bb0\u5f97\u8fd8\u8981\u8bbe\u7f6e-T\u3002\\n-P proxy-auth-username:password\\n\u5c06BASIC\u8eab\u4efd\u9a8c\u8bc1\u51ed\u636e\u63d0\u4f9b\u7ed9\u4ee3\u7406\u8def\u7531\u3002\u7528\u6237\u540d\u548c\u5bc6\u7801\u7531\u4e00\u4e2a\u5355\u72ec\u5206\u9694\uff0c:\u5e76\u901a\u8fc7wire base64\u7f16\u7801\u53d1\u9001\u3002\u65e0\u8bba\u4ee3\u7406\u662f\u5426\u9700\u8981\u5b83\uff0c\u90fd\u4f1a\u53d1\u9001\u8be5\u5b57\u7b26\u4e32\uff08\u5373\uff0c\u5df2\u53d1\u9001407\u4ee3\u7406\u8eab\u4efd\u9a8c\u8bc1\uff09\u3002\\n-q\\n\u5904\u7406\u8d85\u8fc7150\u4e2a\u8bf7\u6c42\u65f6\uff0c\u6bcf10\uff05\u6216100\u4e2a\u8bf7\u6c42\u5de6\u53f3ab\u8f93\u51fa\u8fdb\u5ea6\u8ba1\u6570stderr\u3002\u8be5 -q\u6807\u5fd7\u5c06\u7981\u6b62\u8fd9\u4e9b\u6d88\u606f\u3002\\n-r\\n\u4e0d\u8981\u9000\u51fa\u5957\u63a5\u5b57\u63a5\u6536\u9519\u8bef\u3002\\n-s timeout\\n\u5957\u63a5\u5b57\u8d85\u65f6\u524d\u7b49\u5f85\u7684\u6700\u5927\u79d2\u6570\u3002\u9ed8\u8ba4\u503c\u4e3a30\u79d2\u3002\u9002\u7528\u4e8e2.4.4\u53ca\u66f4\u9ad8\u7248\u672c\u3002\\n-S\\n\u5f53\u5e73\u5747\u503c\u548c\u4e2d\u4f4d\u6570\u5206\u522b\u8d85\u8fc7\u6807\u51c6\u5dee\u7684\u4e00\u500d\u6216\u4e24\u500d\u65f6\uff0c\u4e0d\u663e\u793a\u4e2d\u503c\u548c\u6807\u51c6\u5dee\u503c\uff0c\u4e5f\u4e0d\u663e\u793a\u8b66\u544a/\u9519\u8bef\u6d88\u606f\u3002\u9ed8\u8ba4\u4e3amin / avg / max\u503c\u3002\uff08\u9057\u4ea7\u652f\u6301\uff09\u3002\\n-t timelimit\\n\u7528\u4e8e\u57fa\u51c6\u6d4b\u8bd5\u7684\u6700\u5927\u79d2\u6570\u3002\u8fd9\u610f\u5473\u7740 -n 50000\u5185\u90e8\u3002\u4f7f\u7528\u6b64\u9009\u9879\u53ef\u5728\u56fa\u5b9a\u7684\u603b\u65f6\u95f4\u5185\u5bf9\u670d\u52a1\u5668\u8fdb\u884c\u57fa\u51c6\u6d4b\u8bd5\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6ca1\u6709\u65f6\u95f4\u9650\u5236\u3002\\n-T content-type\\n\u7528\u4e8ePOST / PUT\u6570\u636e\u7684\u5185\u5bb9\u7c7b\u578b\u6807\u5934\uff0c\u4f8b\u5982\u3002 application/x-www-form-urlencoded\u3002\u9ed8\u8ba4\u662ftext/plain\u3002\\n-u PUT-file\\n\u5305\u542b\u6570\u636e\u5230PUT\u7684\u6587\u4ef6\u3002\u8bb0\u5f97\u8fd8\u8981\u8bbe\u7f6e-T\u3002\\n-v verbosity\\n\u8bbe\u7f6e\u8be6\u7ec6\u7ea7\u522b - 4\u4ee5\u53ca\u4e0a\u9762\u6253\u5370\u6807\u9898\u4fe1\u606f\uff0c3\u4e0a\u9762\u6253\u5370\u54cd\u5e94\u4ee3\u7801\uff08404,200\u7b49\uff09\uff0c 2\u4ee5\u53ca\u4e0a\u9762\u6253\u5370\u8b66\u544a\u548c\u4fe1\u606f\u3002\\n-V\\n\u663e\u793a\u7248\u672c\u53f7\u5e76\u9000\u51fa\u3002\\n-w\\n\u5728HTML\u8868\u683c\u4e2d\u6253\u5370\u7ed3\u679c\u3002\u9ed8\u8ba4\u8868\u683c\u4e3a\u4e24\u5217\u5bbd\uff0c\u80cc\u666f\u4e3a\u767d\u8272\u3002\\n-x <table>-attributes\\n\u7528\u4f5c...\u7684\u5c5e\u6027\u7684\u5b57\u7b26\u4e32<table>\u3002\u63d2\u5165\u5c5e\u6027\u3002<table here >\\n-X proxy[:port]\\n\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\u6765\u5904\u7406\u8bf7\u6c42\u3002\\n-y <tr>-attributes\\n\u7528\u4f5c...\u7684\u5c5e\u6027\u7684\u5b57\u7b26\u4e32<tr>\u3002\\n-z <td>-attributes\\n\u7528\u4f5c...\u7684\u5c5e\u6027\u7684\u5b57\u7b26\u4e32<td>\u3002\\n-Z ciphersuite\\n\u6307\u5b9aSSL / TLS\u5bc6\u7801\u5957\u4ef6\uff08\u8bf7\u53c2\u9605openssl\u5bc6\u7801\uff09\\n```\\n\\n### \u5e38\u7528\u53c2\u6570\\n\\n```txt\\n-t timelimit  \u6d4b\u8bd5\u65f6\u95f4\u9650\u5236\uff0c\u5355\u4f4d\u79d2\\n-s timeout    \u6bcf\u4e2a\u8bf7\u6c42\u65f6\u95f4\u9650\u5236\uff0c\u5355\u4f4d\u79d2\\n-v verbosity  \u65e5\u5fd7\u8f93\u51fa\u7ea7\u522b\uff0c\u53ef\u4ee5\u9009\u62e91, 2\u7b49\uff0c\u8c03\u8bd5\u4f7f\u7528\\n-T content-type  POST/PUT\u63a5\u53e3\u7684content-type\\n-p postfile      POST\u8bf7\u6c42\u53d1\u9001\u7684\u6570\u636e\u6587\u4ef6\\n```\\n\\n## ab demo\\n\\n```bash\\nab -c 10 -n 100 -r -s 200 http://127.0.0.1:1080/\\n```\\n\\n### \u6d4b\u8bd5POST\u8bf7\u6c42\\n\\n1. \u4ee5x-www-form-urlencoded\u5f62\u5f0f\u53d1\u9001\\n\\n    ```bash\\n    ab -n 1000 -c 100 -p post.txt -T \'application/x-www-form-urlencoded\' http://www.test.com/test/api\\n    ```\\n\\n    \u5047\u5b9a\u9700\u8981\u53d1\u9001\u7684json\u6570\u636e\u4e3a {name : \u201chello,world\u201d}\u3002\\n    post.txt\u6587\u4ef6\u5185\u5bb9\uff1a\\n\\n    ```txt\\n    name=hello,world\\n    ```\\n\\n2. \u4ee5multipart/form-data\u5f62\u5f0f\u53d1\u9001\\n\\n    ```bash\\n    ab -n 1000 -c 100 -p post.txt -T \'multipart/form-data; boundary=--WebKitFormBoundaryE19zNvXGzXaLvS5C\' http://www.test.com/test/api\\n    ```\\n\\n    post.txt\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a\\n\\n    ```post.txt\\n    ----WebKitFormBoundaryE19zNvXGzXaLvS5C\\n    Content-Disposition: form-data; name=\\"name\\"\\n\\n    hello,world\\n    ----WebKitFormBoundaryE19zNvXGzXaLvS5C\\n    ```\\n\\n- POST\u7684\u6587\u4ef6\u5185\u5bb9\u53ef\u4ee5\u901a\u8fc7postman\u6d4b\u8bd5\u63a5\u53e3\u6765\u67e5\u770b\u3002\\n- \u6027\u80fd\u6d4b\u8bd5\u5f97\u5230\u7684\u6700\u91cd\u8981\u7684\u6307\u6807\u5c31\u662fQPS(Requests per second)\uff0c\u53cd\u6620\u4e86\u63a5\u53e3\u7684\u5e76\u53d1\u627f\u53d7\u80fd\u529b\uff0c\u4e5f\u5c31\u662f\u7cfb\u7edf\u7684\u5cf0\u503c\u6027\u80fd\u3002\u5982\u679c\u5bf9\u63a5\u53e3\u7684\u8c03\u7528\u8d85\u8fc7\u4e86\u8fd9\u4e00\u9650\u5236\uff0c\u5c31\u8981\u8003\u8651\u63d0\u5347\u786c\u4ef6\u6216\u8005\u505a\u4e00\u4e9b\u4f18\u5316\u4e86\u3002\\n\\n## \u53c2\u8003\u6587\u6863\uff1a\\n\\n1. ab\u53c2\u6570\u4ecb\u7ecd\uff1a<http://httpd.apache.org/docs/2.4/programs/ab.html>\\n2. \u4f7f\u7528ab\u547d\u4ee4\u53d1\u9001\u4e00\u4e2apost\u8bf7\u6c42\uff1a<http://stackoverflow.com/questions/29731023/make-a-post-request-using-ab-apache-benchmarking-on-a-django-server>\\n3. \u540c\u4e0a\uff1a<http://stackoverflow.com/questions/20220270/posting-multipart-form-data-with-apache-bench-ab>"},{"id":"Colly-Get-start","metadata":{"permalink":"/zh-TW/blog/Colly-Get-start","editUrl":"https://github.com/tianrking/tianrking.github.io/edit/v3.0/blog/2022-03-15-Colly.md","source":"@site/blog/2022-03-15-Colly.md","title":"\u722c\u87f2\u6846\u67b6 Colly","description":"\u5b89\u88dd colly","date":"2022-03-15T00:00:00.000Z","formattedDate":"2022\u5e743\u670815\u65e5","tags":[{"label":"\u722c\u866b","permalink":"/zh-TW/blog/tags/\u722c\u866b"},{"label":"Golang","permalink":"/zh-TW/blog/tags/golang"},{"label":"Spider","permalink":"/zh-TW/blog/tags/spider"},{"label":"Colly","permalink":"/zh-TW/blog/tags/colly"}],"readingTime":2.63,"hasTruncateMarker":false,"authors":[{"name":"w0x7ce","title":"Maintainer of w0x7ce.eu","url":"https://github.com/tiarnking","imageURL":"https://github.com/tianrking.png","key":"w0x7ce"}],"frontMatter":{"slug":"Colly-Get-start","title":"\u722c\u87f2\u6846\u67b6 Colly","authors":["w0x7ce"],"tags":["\u722c\u866b","Golang","Spider","Colly"]},"prevItem":{"title":"Ab\u538b\u529b\u6d4b\u8bd5","permalink":"/zh-TW/blog/Ab\u538b\u529b\u6d4b\u8bd5"},"nextItem":{"title":"Docker\u6a5f\u5668\u5b78\u7fd2\u74b0\u5883\u642d\u5efa","permalink":"/zh-TW/blog/Docker-ML-ENV-SETUP"}},"content":"## \u5b89\u88dd colly\\n\\n```bash\\n# \u542f\u7528 Go Modules \u529f\u80fd\\ngo env -w GO111MODULE=on\\n# 1. \u4e03\u725b CDN\\ngo env -w  GOPROXY=https://goproxy.cn,direct\\n# 2. \u963f\u91cc\u4e91\\ngo env -w GOPROXY=https://mirrors.aliyun.com/goproxy/,direct\\n# 3. \u5b98\u65b9\\ngo env -w  GOPROXY=https://goproxy.io,direct\\n```\\n\\n```bash\\ngo get -u github.com/gocolly/colly/v2\\n```\\n\\n## Colly OnResponse\\n\\n```Golang\\n\\npackage main\\n\\nimport (\\n    \\"fmt\\"\\n    \\"strings\\"\\n    \\"github.com/gocolly/colly\\"\\n)\\n\\nvar count int = 0\\n\\nfunc main() {\\n    c := colly.NewCollector() // \u5728colly\u4e2d\u4f7f\u7528 Collector \u9019\u985e\u7269\u4ef6 \u4f86\u505a\u4e8b\u60c5\\n\\n    c.OnResponse(func(r *colly.Response) { // \u7576Visit\u8a2a\u554f\u7db2\u9801\u5f8c\uff0c\u7db2\u9801\u97ff\u61c9(Response)\u6642\u5019\u57f7\u884c\u7684\u4e8b\u60c5\\n        // fmt.Println(string(r.Body)) // \u8fd4\u56de\u7684Response\u7269\u4ef6r.Body \u662f[]Byte\u683c\u5f0f\uff0c\u8981\u518d\u8f49\u6210\u5b57\u4e32\\n    })\\n\\n    c.OnRequest(func(r *colly.Request) { // \u9700\u8981\u5beb\u9019\u4e00\u6bb5 User-Agent \u964d\u4f4e\u88abban \u53ef\u80fd\u6027\\n        r.Headers.Set(\\"User-Agent\\", \\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36\\")\\n    })\\n\\n    // \u7576Visit\u8a2a\u554f\u7db2\u9801\u5f8c\uff0c\u5728\u7db2\u9801\u97ff\u61c9(Response)\u4e4b\u5f8c\u3001\u767c\u73fe\u9019\u662fHTML\u683c\u5f0f \u57f7\u884c\u7684\u4e8b\u60c5\\n    // F12 OnHTML \u652f\u6301 class\\n    c.OnHTML(\\".qa-list__title-link\\", func(e *colly.HTMLElement) { // \u6bcf\u627e\u5230\u4e00\u500b\u7b26\u5408 goquerySelector\u5b57\u6a23\u7684\u7d50\u679c\uff0c\u4fbf\u6703\u9032\u9019\u500bOnHTML\u4e00\u6b21\\n        e.Text = strings.TrimSpace(e.Text)\\n        fmt.Println(e.Text)\\n        count++\\n    })\\n\\n    c.Visit(\\"https://ithelp.ithome.com.tw/users/20125192/ironman/3155\\") // Visit \u8981\u653e\u6700\u5f8c\\n}\\n\\n```\\n\\n## c.OnHTML\\n\\n```html\\n<title>...</title>\\n<meta name=\\"...\\" content=\\"...\\">\\n<h3 class=\\"qa-list__title qa-list__title--ironman\\">Go\u7e41\u4e0d\u53ca\u5099\u8f09<span> \u7cfb\u5217</span></h3>\\n<a href=\\"/users/20125192\\" id=\\"account\\" data-account=\\"gjlmotea\\">\u6211\u7684\u4e3b\u9801</a>\\n```\\n\\n1. Tag \u6a19\u7c64\\n\\n   ```Golang\\n   c.OnHTML(\\"title\\", func(e *colly.HTMLElement) {\\n       fmt.Println(e.Text)\\n   })\\n   ```\\n2. Attr \u5c6c\u6027\\n\\n   ```Golang\\n   c.OnHTML(\\"meta[name]\\", func(e *colly.HTMLElement) {\\n       fmt.Println(e)\\n   })\\n   ```\\n3. AttrVal \u5c6c\u6027\u503c\\n\\n   name=\\"description\\"\u9019\u4e32\u5c6c\u6027\u7684content\\n\\n   ```Goalng\\n   c.OnHTML(\\"meta[name=\'description\']\\", func(e *colly.HTMLElement) {\\n       fmt.Println(e.Attr(\\"content\\")) // \u6293\u6b64Tag\u4e2d\u7684name\u5c6c\u6027 \u4f86\u627e\u51fa\u6b64Tag\uff0c\u518d\u5370\u6b64Tag\u4e2d\u7684content\u5c6c\u6027\\n   })\\n   ```\\n4. CSS Class \u540d\u7a31\\n\\n   ```Golang\\n   c.OnHTML(\\".qa-list__title-link\\", func(e *colly.HTMLElement) { // \u6bcf\u627e\u5230\u4e00\u500b\u7b26\u5408 goquerySelector\u5b57\u6a23\u7684\u7d50\u679c\uff0c\u4fbf\u6703\u9032\u9019\u500bOnHTML\u4e00\u6b21\\n           fmt.Println(e.Text)\\n       })\\n\\n   ```\\n5. CSS ID \u552f\u4e00\u8b58\u5225\\n\\n   \u4ee5 CSS\u4f86\u6293\u8a72 id\u5e95\u4e0b\u7684\u5b57\\n\\n   ```Golang\\n   c.OnHTML(\\"#read_more\\", func(e *colly.HTMLElement) {\\n       fmt.Println(e.Text)\\n   })\\n   ```\\n\\n## \u57f7\u884c\u9806\u5e8f\\n\\ncolly\u51fd\u5f0f\u4f5c\u7528\u9806\u5e8f(Call order of callbacks)\\n\\n1. OnRequest\\n   \u5728\u767c\u8d77\u8acb\u6c42\u4e4b\u524d\uff0c\u53ef\u4ee5\u9810\u5148\u5c0dHeader\u7684\u53c3\u6578\u9032\u884c\u8a2d\u5b9a\\n2. OnError\\n   \u5982\u679c\u5728\u8acb\u6c42\u7684\u6642\u5019\u767c\u751f\u932f\u8aa4\\n3. OnResponseHeaders\\n   \u6536\u5230\u97ff\u61c9\u7684\u6a19\u982d\u6642\\n4. OnResponse\\n   \u6536\u5230\u97ff\u61c9\u56de\u5fa9\u7684\u6642\u5019\\n5. OnHTML\\n   \u6536\u5230\u7684\u97ff\u61c9\u662fHTML\u683c\u5f0f\u6642\uff08\u6642\u9593\u9ede\u6bd4 OnResponse\u9084\u665a\uff09\uff0c\u9032\u884cgoquerySelector\u7be9\u9078\\n6. OnXML\\n   \u6536\u5230\u7684\u97ff\u61c9\u662fXML\u683c\u5f0f\u6642\uff08\u6642\u9593\u9ede\u6bd4 OnHTML\u9084\u665a\uff09\uff0c\u9032\u884cxpathQuery\u7be9\u9078\\n7. OnScraped\\n   \u6293\u53d6\u7db2\u9801\uff08\u8207OnResponse\u76f8\u4eff\uff09\uff0c\u4f46\u5728\u6700\u5f8c\u624d\u9032\u884c\u8abf\u7528"},{"id":"Docker-ML-ENV-SETUP","metadata":{"permalink":"/zh-TW/blog/Docker-ML-ENV-SETUP","editUrl":"https://github.com/tianrking/tianrking.github.io/edit/v3.0/blog/2022-03-03-Docker-ML-ENV-SETUP.md","source":"@site/blog/2022-03-03-Docker-ML-ENV-SETUP.md","title":"Docker\u6a5f\u5668\u5b78\u7fd2\u74b0\u5883\u642d\u5efa","description":"Way 1 simple use ufoym/deepo","date":"2022-03-03T00:00:00.000Z","formattedDate":"2022\u5e743\u67083\u65e5","tags":[{"label":"misc","permalink":"/zh-TW/blog/tags/misc"},{"label":"Linux","permalink":"/zh-TW/blog/tags/linux"},{"label":"Docker","permalink":"/zh-TW/blog/tags/docker"},{"label":"\u8edf\u4ef6","permalink":"/zh-TW/blog/tags/\u8edf\u4ef6"},{"label":"\u6a5f\u5668\u5b78\u7fd2","permalink":"/zh-TW/blog/tags/\u6a5f\u5668\u5b78\u7fd2"}],"readingTime":2,"hasTruncateMarker":false,"authors":[{"name":"w0x7ce","title":"Maintainer of w0x7ce.eu","url":"https://github.com/tiarnking","imageURL":"https://github.com/tianrking.png","key":"w0x7ce"}],"frontMatter":{"slug":"Docker-ML-ENV-SETUP","title":"Docker\u6a5f\u5668\u5b78\u7fd2\u74b0\u5883\u642d\u5efa","authors":["w0x7ce"],"tags":["misc","Linux","Linux","Docker","\u8edf\u4ef6","\u6a5f\u5668\u5b78\u7fd2"]},"prevItem":{"title":"\u722c\u87f2\u6846\u67b6 Colly","permalink":"/zh-TW/blog/Colly-Get-start"},"nextItem":{"title":"Conda Install & Setup","permalink":"/zh-TW/blog/Conda-Install&Setup"}},"content":"## Way 1 simple use ufoym/deepo\\n\\n [https://github.com/ufoym/deepo](https://github.com/ufoym/deepo)\\n [https://hub.docker.com/r/ufoym/deepo](https://hub.docker.com/r/ufoym/deepo)\\n\\n### Configure Docker\\n\\n#### Step 1 Uninstall old version\\n\\n```bash\\n sudo apt-get remove docker docker-engine docker.io containerd runc\\n```\\n\\n#### Step 2 Install latest docker\\n\\n```bash\\n sudo apt-get update\\n sudo apt-get install \\\\\\n    ca-certificates \\\\\\n    curl \\\\\\n    gnupg \\\\\\n    lsb-release\\n```\\n\\n```bash\\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\\n```\\n\\n```bash\\necho \\\\\\n  \\"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\\\\\n  $(lsb_release -cs) stable\\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\\n```\\n\\n```bash\\n sudo apt-get update\\n sudo apt-get install docker-ce docker-ce-cli containerd.io\\n```\\n\\n#### Step 3 Install nvidia-docker\\n\\n1. Setting up NVIDIA Container Toolkit\\n\\n    ```bash\\n    distribution=$(. /etc/os-release;echo $ID$VERSION_ID) \\\\\\n    && curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add - \\\\\\n    && curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list\\n    ```\\n\\n2. To get access to experimental features such as CUDA on WSL or the new MIG capability on A100\\n\\n    ```bash\\n    curl -s -L https://nvidia.github.io/nvidia-container-runtime/experimental/$distribution/nvidia-container-runtime.list | sudo tee /etc/apt/sources.list.d/nvidia-container-runtime.list\\n    ```\\n\\n3. Install the nvidia-docker2\\n\\n    ```bash\\n    sudo apt update\\n    sudo apt-get install -y nvidia-docker2\\n    ```\\n\\n4. Final restart\\n\\n    ```bash\\n    sudo systemctl restart docker\\n    ```\\n\\n#### Step 4 Select the verion depends on ur ENV\\n\\n```bash\\n    nvidia-smi #view the cuda version if it\'s cuda10.2\\n    docker pull ufoym/deepo:pytorch-cu102\\n    nvidia-docker  run --name w0x7ce -p 7789:22 -p 7791:7790 -it -v /storage:/data ufoym/deepo:pytorch-cu102\\n```\\n\\nNOW it will work well !\\n\\n#### USE note\\n\\n```bash\\ndocker start [tag]\\ndocker attach [tag]\\nctrl +p + q ## exit without stop the container\\ndocker ps -a\\n```\\n\\n### Misc\\n\\n\u4e2d\u56fd\u5185\u5730\u4f7f\u7528\u53ef\u4ee5\u914d\u7f6e\u955c\u50cf\uff0c\u4ee5\u4fbf\u52a0\u901f\u4e0b\u8f7d\\n\\n- \u8bf7\u9996\u5148\u67e5\u770b\u662f\u5426\u5728 docker.service \u6587\u4ef6\u4e2d\u914d\u7f6e\u8fc7\u955c\u50cf\u5730\u5740\u3002\\n\\n    ```bash\\n    $ systemctl cat docker | grep \'\\\\-\\\\-registry\\\\-mirror\'\\n    ```\\n\\n- \u5982\u679c\u8be5\u547d\u4ee4\u6709\u8f93\u51fa\uff0c\u90a3\u4e48\u8bf7\u6267\u884c $ systemctl cat docker \u67e5\u770b ExecStart= \u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u4fee\u6539\u5bf9\u5e94\u7684\u6587\u4ef6\u5185\u5bb9\u53bb\u6389 --registry-mirror \u53c2\u6570\u53ca\u5176\u503c\uff0c\u5e76\u6309\u63a5\u4e0b\u6765\u7684\u6b65\u9aa4\u8fdb\u884c\u914d\u7f6e\u3002\\n\\n- \u5982\u679c\u4ee5\u4e0a\u547d\u4ee4\u6ca1\u6709\u4efb\u4f55\u8f93\u51fa\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u5728 /etc/docker/daemon.json \u4e2d\u5199\u5165\u5982\u4e0b\u5185\u5bb9\uff08\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u8bf7\u65b0\u5efa\u8be5\u6587\u4ef6\uff09\\n\\n```bash\\n{\\n  \\"registry-mirrors\\": [\\n    \\"https://hub-mirror.c.163.com\\",\\n    \\"https://mirror.baidubce.com\\"\\n  ]\\n}\\n```\\n\\n[ci\u53ef\u7528\u6d4b\u8bd5](https://github.com/docker-practice/docker-registry-cn-mirror-test/actions)"},{"id":"Conda-Install&Setup","metadata":{"permalink":"/zh-TW/blog/Conda-Install&Setup","editUrl":"https://github.com/tianrking/tianrking.github.io/edit/v3.0/blog/2021-09-29-Conda Install & Setup .md","source":"@site/blog/2021-09-29-Conda Install & Setup .md","title":"Conda Install & Setup","description":"","date":"2021-09-29T00:00:00.000Z","formattedDate":"2021\u5e749\u670829\u65e5","tags":[{"label":"misc","permalink":"/zh-TW/blog/tags/misc"},{"label":"Linux","permalink":"/zh-TW/blog/tags/linux"},{"label":"Docker","permalink":"/zh-TW/blog/tags/docker"},{"label":"Python","permalink":"/zh-TW/blog/tags/python"}],"readingTime":0.155,"hasTruncateMarker":false,"authors":[{"name":"w0x7ce","title":"Maintainer of w0x7ce.eu","url":"https://github.com/tiarnking","imageURL":"https://github.com/tianrking.png","key":"w0x7ce"}],"frontMatter":{"slug":"Conda-Install&Setup","title":"Conda Install & Setup","authors":["w0x7ce"],"tags":["misc","Linux","Docker","Python"]},"prevItem":{"title":"Docker\u6a5f\u5668\u5b78\u7fd2\u74b0\u5883\u642d\u5efa","permalink":"/zh-TW/blog/Docker-ML-ENV-SETUP"},"nextItem":{"title":"Awesome-CV-Project","permalink":"/zh-TW/blog/Awesome-CV-Project"}},"content":"```\\nhttps://www.anaconda.com/products/individual-d\\n```\\n\\n```\\nbash Anaconda*sh\\n```\\n\\n```\\nsource <path to conda>/bin/activate and then run conda init\\n```\\n\\n# Use\\n\\n```\\nconda create -n name python=3.7 -y\\nconda activate name\\n```"},{"id":"Awesome-CV-Project","metadata":{"permalink":"/zh-TW/blog/Awesome-CV-Project","editUrl":"https://github.com/tianrking/tianrking.github.io/edit/v3.0/blog/2021-09-21-Awesome-CV-Project.md","source":"@site/blog/2021-09-21-Awesome-CV-Project.md","title":"Awesome-CV-Project","description":"https://pytorch.org/hub/pytorchvisiondeeplabv3_resnet101/","date":"2021-09-21T00:00:00.000Z","formattedDate":"2021\u5e749\u670821\u65e5","tags":[{"label":"misc","permalink":"/zh-TW/blog/tags/misc"}],"readingTime":0.05,"hasTruncateMarker":false,"authors":[{"name":"w0x7ce","title":"Maintainer of w0x7ce.eu","url":"https://github.com/tiarnking","imageURL":"https://github.com/tianrking.png","key":"w0x7ce"}],"frontMatter":{"slug":"Awesome-CV-Project","title":"Awesome-CV-Project","authors":["w0x7ce"],"tags":["misc"]},"prevItem":{"title":"Conda Install & Setup","permalink":"/zh-TW/blog/Conda-Install&Setup"},"nextItem":{"title":"Docker\u4f7f\u7528\u65b9\u6cd5(\u4e00)","permalink":"/zh-TW/blog/Docker-Getting-Srart-01"}},"content":"https://pytorch.org/hub/pytorch_vision_deeplabv3_resnet101/\\nhttps://github.com/meetps/pytorch-semseg\\n\\nhttps://albumentations.ai/docs/\\nhttps://github.com/albumentations-team/albumentations#installation\\nhttps://modelzoo.co/\\nhttps://github.com/facebookresearch/mmf\\nhttps://github.com/facebookresearch/detectron2/tree/main/projects\\nhttps://github.com/open-mmlab/mmsegmentation/blob/master/README_zh-CN.md\\nhttps://github.com/open-mmlab/mmdetection/blob/master/README_zh-CN.md\\nhttps://github.com/PaddlePaddle/PaddleSeg/tree/release/2.2/contrib/PanopticDeepLab"},{"id":"Docker-Getting-Srart-01","metadata":{"permalink":"/zh-TW/blog/Docker-Getting-Srart-01","editUrl":"https://github.com/tianrking/tianrking.github.io/edit/v3.0/blog/2021-09-14-Docker-Getting-Srart-01.md","source":"@site/blog/2021-09-14-Docker-Getting-Srart-01.md","title":"Docker\u4f7f\u7528\u65b9\u6cd5(\u4e00)","description":"- Web \u61c9\u7528\u7684\u81ea\u52d5\u5316\u6253\u5305\u548c\u767c\u5e03\u3002","date":"2021-09-14T00:00:00.000Z","formattedDate":"2021\u5e749\u670814\u65e5","tags":[{"label":"misc","permalink":"/zh-TW/blog/tags/misc"},{"label":"Linux","permalink":"/zh-TW/blog/tags/linux"},{"label":"Docker","permalink":"/zh-TW/blog/tags/docker"},{"label":"\u8edf\u4ef6","permalink":"/zh-TW/blog/tags/\u8edf\u4ef6"},{"label":"\u6a5f\u5668\u5b78\u7fd2","permalink":"/zh-TW/blog/tags/\u6a5f\u5668\u5b78\u7fd2"}],"readingTime":7.345,"hasTruncateMarker":false,"authors":[{"name":"w0x7ce","title":"Maintainer of w0x7ce.eu","url":"https://github.com/tiarnking","imageURL":"https://github.com/tianrking.png","key":"w0x7ce"}],"frontMatter":{"slug":"Docker-Getting-Srart-01","title":"Docker\u4f7f\u7528\u65b9\u6cd5(\u4e00)","authors":["w0x7ce"],"tags":["misc","Linux","Linux","Docker","\u8edf\u4ef6","\u6a5f\u5668\u5b78\u7fd2"]},"prevItem":{"title":"Awesome-CV-Project","permalink":"/zh-TW/blog/Awesome-CV-Project"},"nextItem":{"title":"Welcome","permalink":"/zh-TW/blog/welcome"}},"content":"- Web \u61c9\u7528\u7684\u81ea\u52d5\u5316\u6253\u5305\u548c\u767c\u5e03\u3002\\n- \u81ea\u52d5\u5316\u6e2c\u8a66\u548c\u6301\u7e8c\u96c6\u6210\u3001\u767c\u5e03\u3002\\n- \u5728\u670d\u52d9\u578b\u74b0\u5883\u4e2d\u90e8\u7f72\u548c\u8abf\u6574\u6578\u64da\u5eab\u6216\u5176\u4ed6\u7684\u5f8c\u53f0\u61c9\u7528\u3002\\n- \u5f9e\u982d\u7de8\u8b6f\u6216\u8005\u64f4\u5c55\u73fe\u6709\u7684 OpenShift \u6216 Cloud Foundry \u5e73\u53f0\u4f86\u642d\u5efa\u81ea\u5df1\u7684 PaaS \u74b0\u5883\u3002\\n\\n# Docker \u7684\u512a\u9ede\\nDocker \u662f\u4e00\u500b\u7528\u65bc\u958b\u767c\uff0c\u4ea4\u4ed8\u548c\u904b\u884c\u61c9\u7528\u7a0b\u5e8f\u7684\u958b\u653e\u5e73\u53f0\u3002 Docker \u4f7f\u60a8\u80fd\u5920\u5c07\u61c9\u7528\u7a0b\u5e8f\u8207\u57fa\u790e\u67b6\u69cb\u5206\u958b\uff0c\u5f9e\u800c\u53ef\u4ee5\u5feb\u901f\u4ea4\u4ed8\u8edf\u4ef6\u3002\u501f\u52a9 Docker\uff0c\u60a8\u53ef\u4ee5\u8207\u7ba1\u7406\u61c9\u7528\u7a0b\u5e8f\u76f8\u540c\u7684\u65b9\u5f0f\u4f86\u7ba1\u7406\u57fa\u790e\u67b6\u69cb\u3002\u901a\u904e\u5229\u7528 Docker \u7684\u65b9\u6cd5\u4f86\u5feb\u901f\u4ea4\u4ed8\uff0c\u6e2c\u8a66\u548c\u90e8\u7f72\u4ee3\u78bc\uff0c\u60a8\u53ef\u4ee5\u5927\u5927\u6e1b\u5c11\u7de8\u5beb\u4ee3\u78bc\u548c\u5728\u751f\u7522\u74b0\u5883\u4e2d\u904b\u884c\u4ee3\u78bc\u4e4b\u9593\u7684\u5ef6\u9072\u3002\\n\\n1. \u5feb\u901f\uff0c\u4e00\u81f4\u5730\u4ea4\u4ed8\u60a8\u7684\u61c9\u7528\u7a0b\u5e8f\\nDocker \u5141\u8a31\u958b\u767c\u4eba\u54e1\u4f7f\u7528\u60a8\u63d0\u4f9b\u7684\u61c9\u7528\u7a0b\u5e8f\u6216\u670d\u52d9\u7684\u672c\u5730\u5bb9\u5668\u5728\u6a19\u6e96\u5316\u74b0\u5883\u4e2d\u5de5\u4f5c\uff0c\u5f9e\u800c\u7c21\u5316\u4e86\u958b\u767c\u7684\u751f\u547d\u9031\u671f\u3002\\n\\n\u5bb9\u5668\u975e\u5e38\u9069\u5408\u6301\u7e8c\u96c6\u6210\u548c\u6301\u7e8c\u4ea4\u4ed8\uff08CI / CD\uff09\u5de5\u4f5c\u6d41\u7a0b\uff0c\u8acb\u8003\u616e\u4ee5\u4e0b\u793a\u4f8b\u65b9\u6848\uff1a\\n\\n\u60a8\u7684\u958b\u767c\u4eba\u54e1\u5728\u672c\u5730\u7de8\u5beb\u4ee3\u78bc\uff0c\u4e26\u4f7f\u7528 Docker \u5bb9\u5668\u8207\u540c\u4e8b\u5171\u4eab\u4ed6\u5011\u7684\u5de5\u4f5c\u3002\\n\\n\u4ed6\u5011\u4f7f\u7528 Docker \u5c07\u5176\u61c9\u7528\u7a0b\u5e8f\u63a8\u9001\u5230\u6e2c\u8a66\u74b0\u5883\u4e2d\uff0c\u4e26\u57f7\u884c\u81ea\u52d5\u6216\u624b\u52d5\u6e2c\u8a66\u3002\\n\\n\u7576\u958b\u767c\u4eba\u54e1\u767c\u73fe\u932f\u8aa4\u6642\uff0c\u4ed6\u5011\u53ef\u4ee5\u5728\u958b\u767c\u74b0\u5883\u4e2d\u5c0d\u5176\u9032\u884c\u4fee\u5fa9\uff0c\u7136\u5f8c\u5c07\u5176\u91cd\u65b0\u90e8\u7f72\u5230\u6e2c\u8a66\u74b0\u5883\u4e2d\uff0c\u4ee5\u9032\u884c\u6e2c\u8a66\u548c\u9a57\u8b49\u3002\\n\\n\u6e2c\u8a66\u5b8c\u6210\u5f8c\uff0c\u5c07\u4fee\u88dc\u7a0b\u5e8f\u63a8\u9001\u7d66\u751f\u7522\u74b0\u5883\uff0c\u5c31\u50cf\u5c07\u66f4\u65b0\u7684\u93e1\u50cf\u63a8\u9001\u5230\u751f\u7522\u74b0\u5883\u4e00\u6a23\u7c21\u55ae\u3002\\n\\n2. \u97ff\u61c9\u5f0f\u90e8\u7f72\u548c\u64f4\u5c55\\nDocker \u662f\u57fa\u65bc\u5bb9\u5668\u7684\u5e73\u53f0\uff0c\u5141\u8a31\u9ad8\u5ea6\u53ef\u79fb\u690d\u7684\u5de5\u4f5c\u8ca0\u8f09\u3002 Docker \u5bb9\u5668\u53ef\u4ee5\u5728\u958b\u767c\u4eba\u54e1\u7684\u672c\u6a5f\u4e0a\uff0c\u6578\u64da\u4e2d\u5fc3\u7684\u7269\u7406\u6216\u865b\u64ec\u6a5f\u4e0a\uff0c\u96f2\u670d\u52d9\u4e0a\u6216\u6df7\u5408\u74b0\u5883\u4e2d\u904b\u884c\u3002\\n\\nDocker \u7684\u53ef\u79fb\u690d\u6027\u548c\u8f15\u91cf\u7d1a\u7684\u7279\u6027\uff0c\u9084\u53ef\u4ee5\u4f7f\u60a8\u8f15\u9b06\u5730\u5b8c\u6210\u52d5\u614b\u7ba1\u7406\u7684\u5de5\u4f5c\u8ca0\u64d4\uff0c\u4e26\u6839\u64da\u696d\u52d9\u9700\u6c42\u6307\u793a\uff0c\u5be6\u6642\u64f4\u5c55\u6216\u62c6\u9664\u61c9\u7528\u7a0b\u5e8f\u548c\u670d\u52d9\u3002\\n\\n3. \u5728\u540c\u4e00\u786c\u4ef6\u4e0a\u904b\u884c\u66f4\u591a\u5de5\u4f5c\u8ca0\u8f09\\nDocker \u8f15\u5de7\u5feb\u901f\u3002\u5b83\u70ba\u57fa\u65bc\u865b\u64ec\u6a5f\u7ba1\u7406\u7a0b\u5e8f\u7684\u865b\u64ec\u6a5f\u63d0\u4f9b\u4e86\u53ef\u884c\u3001\u7d93\u6fdf\u3001\u9ad8\u6548\u7684\u66ff\u4ee3\u65b9\u6848\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u5229\u7528\u66f4\u591a\u7684\u8a08\u7b97\u80fd\u529b\u4f86\u5be6\u73fe\u696d\u52d9\u76ee\u6a19\u3002 Docker \u975e\u5e38\u9069\u5408\u65bc\u9ad8\u5bc6\u5ea6\u74b0\u5883\u4ee5\u53ca\u4e2d\u5c0f\u578b\u90e8\u7f72\uff0c\u800c\u60a8\u53ef\u4ee5\u7528\u66f4\u5c11\u7684\u8cc7\u6e90\u505a\u66f4\u591a\u7684\u4e8b\u60c5\\n\\n# Docker\u5b89\u88dd\\n```\\ncurl -sSL https://get.daocloud.io/docker | sh\\n```\\n\\n# Docker\u5378\u8f09\\n```\\n sudo apt-get remove docker docker-engine docker.io containerd runc\\n```\\n\\n\\n# Docker\u4f7f\u7528\u57fa\u790e\\n## Docker Hello World\\nDocker \u5141\u8a31\u4f60\u5728\u5bb9\u5668\u5167\u904b\u884c\u61c9\u7528\u7a0b\u5e8f\uff0c \u4f7f\u7528 docker run \u547d\u4ee4\u4f86\u5728\u5bb9\u5668\u5167\u904b\u884c\u4e00\u500b\u61c9\u7528\u7a0b\u5e8f\u3002\\n\\n\u8f38\u51faHello world\\n```\\nw0x7ce@w0x7ce:~$ docker run ubuntu:15.10 /bin/echo \\"Hello world\\"\\nHello world\\n```\\n\\n\u5404\u500b\u53c3\u6578\u89e3\u6790\uff1a\\n```\\ndocker: Docker \u7684\u4e8c\u9032\u5236\u57f7\u884c\u6587\u4ef6\u3002\\n\\nrun: \u8207\u524d\u9762\u7684 docker \u7d44\u5408\u4f86\u904b\u884c\u4e00\u500b\u5bb9\u5668\u3002\\n\\nubuntu:15.10 \u6307\u5b9a\u8981\u904b\u884c\u7684\u93e1\u50cf\uff0cDocker \u9996\u5148\u5f9e\u672c\u5730\u4e3b\u6a5f\u4e0a\u67e5\u627e\u93e1\u50cf\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0cDocker \u5c31\u6703\u5f9e\u93e1\u50cf\u5009\u5eab Docker Hub \u4e0b\u8f09\u516c\u5171\u93e1\u50cf\u3002\\n\\n/bin/echo \\"Hello world\\": \u5728\u555f\u52d5\u7684\u5bb9\u5668\u88e1\u57f7\u884c\u7684\u547d\u4ee4\\n```\\n\u4ee5\u4e0a\u547d\u4ee4\u5b8c\u6574\u7684\u610f\u601d\u53ef\u4ee5\u89e3\u91cb\u70ba\uff1aDocker \u4ee5 ubuntu15.10 \u93e1\u50cf\u5275\u5efa\u4e00\u500b\u65b0\u5bb9\u5668\uff0c\u7136\u5f8c\u5728\u5bb9\u5668\u88e1\u57f7\u884c bin/echo \\"Hello world\\"\uff0c\u7136\u5f8c\u8f38\u51fa\u7d50\u679c\u3002\\n\\n## \u904b\u884c\u4ea4\u4e92\u5f0f\u7684\u5bb9\u5668\\n\u6211\u5011\u901a\u904e docker \u7684\u5169\u500b\u53c3\u6578 -i -t\uff0c\u8b93 docker \u904b\u884c\u7684\u5bb9\u5668\u5be6\u73fe\\"\u5c0d\u8a71\\"\u7684\u80fd\u529b\uff1a\\n```\\nw0x7ce@w0x7ce:~$ docker run -i -t ubuntu:15.10 /bin/bash\\nroot@0123ce188bd8:/#\\n```\\n\u5404\u500b\u53c3\u6578\u89e3\u6790\uff1a\\n```\\n-t: \u5728\u65b0\u5bb9\u5668\u5167\u6307\u5b9a\u4e00\u500b\u507d\u7d42\u7aef\u6216\u7d42\u7aef\u3002\\n\\n-i: \u5141\u8a31\u4f60\u5c0d\u5bb9\u5668\u5167\u7684\u6a19\u6e96\u8f38\u5165 (STDIN) \u9032\u884c\u4ea4\u4e92\u3002\\n```\\n\u6ce8\u610f\u7b2c\u4e8c\u884c root@0123ce188bd8:/#\uff0c\u6b64\u6642\u6211\u5011\u5df2\u9032\u5165\u4e00\u500b ubuntu15.10 \u7cfb\u7d71\u7684\u5bb9\u5668\\n\\n\u6211\u5011\u5617\u8a66\u5728\u5bb9\u5668\u4e2d\u904b\u884c\u547d\u4ee4 cat /proc/version\u548cls\u5206\u5225\u67e5\u770b\u7576\u524d\u7cfb\u7d71\u7684\u7248\u672c\u4fe1\u606f\u548c\u7576\u524d\u76ee\u9304\u4e0b\u7684\u6587\u4ef6\u5217\u8868\\n```\\nroot@0123ce188bd8:/#  cat /proc/version\\nLinux version 4.4.0-151-generic (buildd@lgw01-amd64-043) (gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.10) ) #178-Ubuntu SMP Tue Jun 11 08:30:22 UTC 2019\\nroot@0123ce188bd8:/# ls\\nbin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var\\nroot@0123ce188bd8:/# \\n```\\n\u6211\u5011\u53ef\u4ee5\u901a\u904e\u904b\u884c exit \u547d\u4ee4\u6216\u8005\u4f7f\u7528 CTRL+D \u4f86\u9000\u51fa\u5bb9\u5668\u3002\\n```\\nroot@0123ce188bd8:/#  exit\\nexit\\nroot@w0x7ce:~# \\n```\\n\u6ce8\u610f\u7b2c\u4e09\u884c\u4e2d root@w0x7ce:~# \u8868\u660e\u6211\u5011\u5df2\u7d93\u9000\u51fa\u4e86\u7576\u524d\u7684\u5bb9\u5668\uff0c\u8fd4\u56de\u5230\u7576\u524d\u7684\u4e3b\u6a5f\u4e2d\u3002\\n\\n## \u555f\u52d5\u5bb9\u5668\uff08\u5f8c\u53f0\u6a21\u5f0f\uff09\\n\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5275\u5efa\u4e00\u500b\u4ee5\u9032\u7a0b\u65b9\u5f0f\u904b\u884c\u7684\u5bb9\u5668\\n```\\nw0x7ce@w0x7ce:~$ docker run -d ubuntu:15.10 /bin/sh -c \\"while true; do echo hello world; sleep 1; done\\"\\n2b1b7a428627c51ab8810d541d759f072b4fc75487eed05812646b8534a2fe63\\n```\\n\u5728\u8f38\u51fa\u4e2d\uff0c\u6211\u5011\u6c92\u6709\u770b\u5230\u671f\u671b\u7684 \\"hello world\\"\uff0c\u800c\u662f\u4e00\u4e32\u9577\u5b57\u7b26\\n\\n2b1b7a428627c51ab8810d541d759f072b4fc75487eed05812646b8534a2fe63\\n\\n\u9019\u500b\u9577\u5b57\u7b26\u4e32\u53eb\u505a\u5bb9\u5668 ID\uff0c\u5c0d\u6bcf\u500b\u5bb9\u5668\u4f86\u8aaa\u90fd\u662f\u552f\u4e00\u7684\uff0c\u6211\u5011\u53ef\u4ee5\u901a\u904e\u5bb9\u5668 ID \u4f86\u67e5\u770b\u5c0d\u61c9\u7684\u5bb9\u5668\u767c\u751f\u4e86\u4ec0\u9ebc\u3002\\n\\n\u9996\u5148\uff0c\u6211\u5011\u9700\u8981\u78ba\u8a8d\u5bb9\u5668\u6709\u5728\u904b\u884c\uff0c\u53ef\u4ee5\u901a\u904e docker ps \u4f86\u67e5\u770b\uff1a\\n```\\nw0x7ce@w0x7ce:~$ docker ps\\nCONTAINER ID        IMAGE                  COMMAND              ...  \\n5917eac21c36        ubuntu:15.10           \\"/bin/sh -c \'while t\u2026\\"    ...\\n```\\n\u8f38\u51fa\u8a73\u60c5\u4ecb\u7d39\uff1a\\n```\\nCONTAINER ID: \u5bb9\u5668 ID\u3002\\n\\nIMAGE: \u4f7f\u7528\u7684\u93e1\u50cf\u3002\\n\\nCOMMAND: \u555f\u52d5\u5bb9\u5668\u6642\u904b\u884c\u7684\u547d\u4ee4\u3002\\n\\nCREATED: \u5bb9\u5668\u7684\u5275\u5efa\u6642\u9593\u3002\\n\\nSTATUS: \u5bb9\u5668\u72c0\u614b\u3002\\n\\n\u72c0\u614b\u67097\u7a2e\uff1a\\n\\ncreated\uff08\u5df2\u5275\u5efa\uff09\\nrestarting\uff08\u91cd\u555f\u4e2d\uff09\\nrunning \u6216 Up\uff08\u904b\u884c\u4e2d\uff09\\nremoving\uff08\u9077\u79fb\u4e2d\uff09\\npaused\uff08\u66ab\u505c\uff09\\nexited\uff08\u505c\u6b62\uff09\\ndead\uff08\u6b7b\u4ea1\uff09\\nPORTS: \u5bb9\u5668\u7684\u7aef\u53e3\u4fe1\u606f\u548c\u4f7f\u7528\u7684\u9023\u63a5\u985e\u578b\uff08tcp\\\\udp\uff09\u3002\\n\\nNAMES: \u81ea\u52d5\u5206\u914d\u7684\u5bb9\u5668\u540d\u7a31\u3002\\n```\\n\u5728\u5bbf\u4e3b\u4e3b\u6a5f\u5167\u4f7f\u7528 docker logs \u547d\u4ee4\uff0c\u67e5\u770b\u5bb9\u5668\u5167\u7684\u6a19\u6e96\u8f38\u51fa\uff1a\\n```\\nw0x7ce@w0x7ce:~$ docker logs 2b1b7a428627\\n```\\n```\\nw0x7ce@w0x7ce:~$ docker logs amazing_cori\\n```\\n\\n## \u505c\u6b62\u5bb9\u5668\\n\u6211\u5011\u4f7f\u7528 docker stop \u547d\u4ee4\u4f86\u505c\u6b62\u5bb9\u5668:\\n\\n\\n\\n\u901a\u904e docker ps \u67e5\u770b\uff0c\u5bb9\u5668\u5df2\u7d93\u505c\u6b62\u5de5\u4f5c:\\n```\\nw0x7ce@w0x7ce:~$ docker ps\\n```\\n\u53ef\u4ee5\u770b\u5230\u5bb9\u5668\u5df2\u7d93\u4e0d\u5728\u4e86\u3002\\n\\n\u4e5f\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u4f86\u505c\u6b62:\\n```\\nw0x7ce@w0x7ce:~$ docker stop amazing_cori\\n```"},{"id":"welcome","metadata":{"permalink":"/zh-TW/blog/welcome","editUrl":"https://github.com/tianrking/tianrking.github.io/edit/v3.0/blog/2021-08-26-welcome/index.md","source":"@site/blog/2021-08-26-welcome/index.md","title":"Welcome","description":"Docusaurus blogging features are powered by the blog plugin.","date":"2021-08-26T00:00:00.000Z","formattedDate":"2021\u5e748\u670826\u65e5","tags":[{"label":"facebook","permalink":"/zh-TW/blog/tags/facebook"},{"label":"hello","permalink":"/zh-TW/blog/tags/hello"},{"label":"docusaurus","permalink":"/zh-TW/blog/tags/docusaurus"}],"readingTime":0.405,"hasTruncateMarker":false,"authors":[{"name":"w0x7ce","title":"Maintainer of w0x7ce.eu","url":"https://github.com/tiarnking","imageURL":"https://github.com/tianrking.png","key":"w0x7ce"}],"frontMatter":{"slug":"welcome","title":"Welcome","authors":["w0x7ce"],"tags":["facebook","hello","docusaurus"]},"prevItem":{"title":"Docker\u4f7f\u7528\u65b9\u6cd5(\u4e00)","permalink":"/zh-TW/blog/Docker-Getting-Srart-01"},"nextItem":{"title":"About","permalink":"/zh-TW/blog/About"}},"content":"[Docusaurus blogging features](https://docusaurus.io/docs/blog) are powered by the [blog plugin](https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-blog).\\n\\nSimply add Markdown files (or folders) to the `blog` directory.\\n\\nRegular blog authors can be added to `authors.yml`.\\n\\nThe blog post date can be extracted from filenames, such as:\\n\\n- `2019-05-30-welcome.md`\\n- `2019-05-30-welcome/index.md`\\n\\nA blog post folder can be convenient to co-locate blog post images:\\n\\n![Docusaurus Plushie](./docusaurus-plushie-banner.jpeg)\\n\\nThe blog supports tags as well!\\n\\n**And if you don\'t want a blog**: just delete this directory, and use `blog: false` in your Docusaurus config."},{"id":"About","metadata":{"permalink":"/zh-TW/blog/About","editUrl":"https://github.com/tianrking/tianrking.github.io/edit/v3.0/blog/2017-08-20-About.md","source":"@site/blog/2017-08-20-About.md","title":"About","description":"\x3c!-- Hugo is a static site engine written in Go.","date":"2017-08-20T00:00:00.000Z","formattedDate":"2017\u5e748\u670820\u65e5","tags":[{"label":"misc","permalink":"/zh-TW/blog/tags/misc"}],"readingTime":0.485,"hasTruncateMarker":false,"authors":[{"name":"w0x7ce","title":"Maintainer of w0x7ce.eu","url":"https://github.com/tiarnking","imageURL":"https://github.com/tianrking.png","key":"w0x7ce"}],"frontMatter":{"slug":"About","title":"About","authors":["w0x7ce"],"tags":["misc"]},"prevItem":{"title":"Welcome","permalink":"/zh-TW/blog/welcome"}},"content":"\x3c!-- Hugo is a static site engine written in Go.\\r\\n\\r\\n\\r\\nIt makes use of a variety of open source projects including:\\r\\n\\r\\n* [Cobra](https://github.com/spf13/cobra)\\r\\n* [Viper](https://github.com/spf13/viper)\\r\\n* [J Walter Weatherman](https://github.com/spf13/jWalterWeatherman)\\r\\n* [Cast](https://github.com/spf13/cast)\\r\\n\\r\\nLearn more and contribute on [GitHub](https://github.com/gohugoio). --\x3e\\r\\n\x3c!-- https://null.w0x7ce.com/media/%E9%9B%A2%E5%88%A5%E4%B9%8B%E5%89%8D.mp3 --\x3e\\r\\n\x3c!-- https://media_ipv6.w0x7ce.com/media/%e9%9b%a2%e5%88%a5%e4%b9%8b%e5%89%8d.mp3 --\x3e\\r\\n<audio controls=\\"controls\\" autoplay=\\"autoplay\\" src=\\"https://me.w0x7ce.eu/media/%E9%BB%83%E8%97%9D%E6%98%8E%20-%20%E6%88%91%E5%80%91%E7%9A%84%E5%A4%A9%E7%A9%BA.mp3\\">\\r\\n    Your browser does not support the HTML5 audio element.\\r\\n</audio>\\r\\n\\r\\n\u9019\u4e00\u4e9b \u50b3\u980c\u7740\u7d93\u5178\u7684\u6b4c\\r\\n\\r\\n\u85cf\u7740\u4e86 \u592a\u591a\u592a\u591a\u5bc4\u671b\\r\\n\\r\\n\u5728\u9019\u523b \u8ff7\u9014\u5728\u9060\u65b9\u4ed6\u9109\\r\\n\\r\\n\u611f\u8b1d\u4f60 \u6b4c\u8072\u88cf\u4f34\u6211\u8de8\u904e"}]}')}}]);