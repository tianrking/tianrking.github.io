<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://me.w0x7ce.eu/zh-TW/blog</id>
    <title>w0x7ce 的秘密花園  Blog</title>
    <updated>2022-08-12T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://me.w0x7ce.eu/zh-TW/blog"/>
    <subtitle>w0x7ce 的秘密花園  Blog</subtitle>
    <icon>https://me.w0x7ce.eu/zh-TW/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Clean Up Disk Space in Linux]]></title>
        <id>Clean-Up-Disk-Space-in-Linux</id>
        <link href="https://me.w0x7ce.eu/zh-TW/blog/Clean-Up-Disk-Space-in-Linux"/>
        <updated>2022-08-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[df]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="df">df<a class="hash-link" href="#df" title="標題的直接連結">​</a></h2><p>df命令可以获取硬盘被占用了多少空间，目前还剩下多少空间等信息，它也可以显示所有文件系统对i节点和磁盘块的使用情况。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">df命令各个选项的含义如下：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;-a：显示所有文件系统的磁盘使用情况，包括0块（block）的文件系统，如/proc文件系统。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;-k：以k字节为单位显示。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;-i：显示i节点信息，而不是磁盘块。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;-t：显示各指定类型的文件系统的磁盘空间使用情况。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;-x：列出不是某一指定类型文件系统的磁盘空间使用情况（与t选项相反）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;-T：显示文件系统类型。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ubuntu@VM-HK-w0x7ce:~$ </span><span class="token function" style="color:#d73a49">df</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem     1K-blocks    Used Available Use% Mounted on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs             </span><span class="token number" style="color:#36acaa">202488</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">968</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">201520</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">% /run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/vda2       </span><span class="token number" style="color:#36acaa">51538380</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6022796</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">45499200</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">% /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs            </span><span class="token number" style="color:#36acaa">1012440</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">24</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">1012416</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">% /dev/shm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs               </span><span class="token number" style="color:#36acaa">5120</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">5120</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% /run/lock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs             </span><span class="token number" style="color:#36acaa">202488</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">202484</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">% /run/user/1000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>第1列是代表文件系统对应的设备文件的路径名（一般是硬盘上的分区）；第2列给出分区包含的数据块（1024字节）的数目；第3，4列分别表示已用的和可用的数据块数目。</p><p>第3，4列块数之和不一定等于第2列中的块数。这是因为默认的每个分区都留了少量空间供系统管理员使用的缘故。即使遇到普通用户 空间已满的情况，管理员仍能登录和留有解决问题所需的工作空间。清单中Use%列表示普通用户空间使用的百分比，若这一数字达到100%，分区仍然留有系 统管理员使用的空间。</p><p>最后，Mounted on列表示文件系统的安装点。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="du-disk-usage">du （disk usage）<a class="hash-link" href="#du-disk-usage" title="標題的直接連結">​</a></h2><p>disk usage 含义为显示磁盘空间的使用情况，统计目录（或文件）所占磁盘空间的大小。该命令的功能是逐级进入指定目录的每一个子目录并显示该目录占用文件系统数据块（1024字节）的情况。若没有给出指定目录，则对当前目录进行统计。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">du命令各个选项的含义如下：&nbsp; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -s：对每个Names参数只给出占用的数据块总数。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -a：递归地显示指定目录中各文件及子目录中各文件占用的数据块数。若既不指定-s，也不指定-a，则只显示Names中的每一个目录及其中的各子目录所占的磁盘块数。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -b：以字节为单位列出磁盘空间使用情况（系统默认以k字节为单位）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -k：以1024字节为单位列出磁盘空间使用情况。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -c：最后再加上一个总计（系统默认设置）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -l：计算所有的文件大小，对硬链接文件，则计算多次。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -x：跳过在不同文件系统上的目录不予统计。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ubuntu@VM-HK-w0x7ce:/etc$ </span><span class="token function" style="color:#d73a49">du</span><span class="token plain"> -h ./apt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12K     ./apt/trusted.gpg.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.0K    ./apt/keyrings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">64K     ./apt/apt.conf.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.0K    ./apt/auth.conf.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.0K    ./apt/preferences.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.0K    ./apt/sources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.0K    ./apt/sources.list.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">104K    ./apt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tune2fs">tune2fs<a class="hash-link" href="#tune2fs" title="標題的直接連結">​</a></h2><p>tune2fs 命令用于调整文件系统的参数，是 ext2 及 ext3 文件系统常用的调整工具。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">df命令各个选项的含义如下：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -c 次数 </span><span class="token comment" style="color:#999988;font-style:italic">#挂载多少次后运行硬盘检查命令</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e 行为 </span><span class="token comment" style="color:#999988;font-style:italic">#发现错误时的行为，包括continue（继续）、remount-on（挂载成只读）、panic（导致内核不稳定）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -f </span><span class="token comment" style="color:#999988;font-style:italic">#及时发现错误，仍强制执行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -i 时间 </span><span class="token comment" style="color:#999988;font-style:italic">#检查的时间间隔， d 为天数， m 为月数， w 为周数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -j </span><span class="token comment" style="color:#999988;font-style:italic">#新建 ext3 日志式的文件系统</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -l </span><span class="token comment" style="color:#999988;font-style:italic">#显示文件系统的相关信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -L 标签 </span><span class="token comment" style="color:#999988;font-style:italic">#指定文件系统的标签名称</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -m 保留比例 </span><span class="token comment" style="color:#999988;font-style:italic">#指定对硬盘的保留比例，默认为 5%</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看文件系统信息">查看文件系统信息<a class="hash-link" href="#查看文件系统信息" title="標題的直接連結">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@VM-HK-w0x7ce:/home/ubuntu</span><span class="token comment" style="color:#999988;font-style:italic"># tune2fs -l /dev/vda2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tune2fs </span><span class="token number" style="color:#36acaa">1.46</span><span class="token plain">.5 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token plain">-Dec-2021</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem volume name:   Disk_One</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last mounted on:          /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem UUID:          7bccaefa-b039-4ff6-bd32-22dde0066c0b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem magic number:  0xEF53</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem revision </span><span class="token comment" style="color:#999988;font-style:italic">#:    1 (dynamic)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem features:      has_journal ext_attr resize_inode dir_index filetype needs_recovery extent 64bit flex_bg sparse_super large_file huge_file dir_nlink extra_isize metadata_csum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem flags:         signed_directory_hash </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Default </span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"> options:    user_xattr acl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem state:         clean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Errors behavior:          Continue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem OS type:       Linux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Inode count:              </span><span class="token number" style="color:#36acaa">3276800</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Block count:              </span><span class="token number" style="color:#36acaa">13106683</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reserved block count:     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Overhead clusters:        </span><span class="token number" style="color:#36acaa">66747</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Free blocks:              </span><span class="token number" style="color:#36acaa">12042633</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Free inodes:              </span><span class="token number" style="color:#36acaa">3179795</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">First block:              </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Block size:               </span><span class="token number" style="color:#36acaa">4096</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fragment size:            </span><span class="token number" style="color:#36acaa">4096</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Group descriptor size:    </span><span class="token number" style="color:#36acaa">64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reserved GDT blocks:      </span><span class="token number" style="color:#36acaa">1019</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Blocks per group:         </span><span class="token number" style="color:#36acaa">32768</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fragments per group:      </span><span class="token number" style="color:#36acaa">32768</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Inodes per group:         </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Inode blocks per group:   </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Flex block group size:    </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem created:       Sun Apr </span><span class="token number" style="color:#36acaa">24</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain">:03:06 </span><span class="token number" style="color:#36acaa">2022</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last </span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"> time:          Thu Jul </span><span class="token number" style="color:#36acaa">28</span><span class="token plain"> 09:59:27 </span><span class="token number" style="color:#36acaa">2022</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last </span><span class="token function" style="color:#d73a49">write</span><span class="token plain"> time:          Fri Aug </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">:45:27 </span><span class="token number" style="color:#36acaa">2022</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mount count:              </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Maximum </span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"> count:      -1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last checked:             Sun Apr </span><span class="token number" style="color:#36acaa">24</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain">:03:06 </span><span class="token number" style="color:#36acaa">2022</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Check interval:           </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">none</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Lifetime writes:          </span><span class="token number" style="color:#36acaa">13</span><span class="token plain"> GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reserved blocks uid:      </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user root</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reserved blocks gid:      </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">group root</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">First inode:              </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Inode size:               </span><span class="token number" style="color:#36acaa">256</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Required extra isize:     </span><span class="token number" style="color:#36acaa">32</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Desired extra isize:      </span><span class="token number" style="color:#36acaa">32</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Journal inode:            </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">First orphan inode:       </span><span class="token number" style="color:#36acaa">15612</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Default directory hash:   half_md4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Directory Hash Seed:      06aeded3-785f-4aaa-8100-d3e54f41d421</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Journal backup:           inode blocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Checksum type:            crc32c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Checksum:                 0xf004571c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="显示卷--更改卷名字">显示卷 &amp; 更改卷名字<a class="hash-link" href="#显示卷--更改卷名字" title="標題的直接連結">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@VM-HK-w0x7ce:/home/ubuntu</span><span class="token comment" style="color:#999988;font-style:italic"># tune2fs -l /dev/vda2 | grep volume</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem volume name:   </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">none</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@VM-HK-w0x7ce:/home/ubuntu</span><span class="token comment" style="color:#999988;font-style:italic"># tune2fs -L w0x7ce_disk_01 /dev/vda2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tune2fs </span><span class="token number" style="color:#36acaa">1.46</span><span class="token plain">.5 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token plain">-Dec-2021</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@VM-HK-w0x7ce:/home/ubuntu</span><span class="token comment" style="color:#999988;font-style:italic"># tune2fs -l /dev/vda2 | grep volume</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem volume name:   w0x7ce_disk_01</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="改变预留空间比例">改变预留空间比例<a class="hash-link" href="#改变预留空间比例" title="標題的直接連結">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@VM-HK-w0x7ce:/home/ubuntu</span><span class="token comment" style="color:#999988;font-style:italic"># tune2fs -m 1 /dev/vda2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tune2fs </span><span class="token number" style="color:#36acaa">1.46</span><span class="token plain">.5 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token plain">-Dec-2021</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Setting reserved blocks percentage to </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">% </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">131066</span><span class="token plain"> blocks</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="案例分析">案例分析<a class="hash-link" href="#案例分析" title="標題的直接連結">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@slave01:~</span><span class="token comment" style="color:#999988;font-style:italic"># df -h</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem      Size  Used Avail Use% Mounted on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">udev             63G     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">   63G   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% /dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs            13G  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">.8M   13G   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">% /run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/sda4       221G  217G  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.8G  </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs            63G     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">   63G   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% /dev/shm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs           </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">.0M     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">.0M   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% /run/lock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs            63G     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">   63G   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% /sys/fs/cgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/loop1      </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">.9M  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">.9M     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% /snap/shadowsocks-libev/508</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/loop5       56M   56M     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% /snap/core18/2538</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/loop4      114M  114M     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% /snap/core/13425</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/sda2       </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">.9G  100M  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">.6G   </span><span class="token number" style="color:#36acaa">6</span><span class="token plain">% /boot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/sda1       952M  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.4M  947M   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">% /boot/efi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/sda3       215G  185G   20G  </span><span class="token number" style="color:#36acaa">91</span><span class="token plain">% /home</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/sdb        </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">.6T  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">.8T  668G  </span><span class="token number" style="color:#36acaa">81</span><span class="token plain">% /storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/loop2      560M  560M     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% /snap/pycharm-community/293</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs            13G     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">   13G   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% /run/user/1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/loop3      224M  224M     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% /snap/code/104</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">overlay         221G  214G  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.8G  </span><span class="token number" style="color:#36acaa">98</span><span class="token plain">% /var/lib/docker/overlay2/38ce2a2c8fadbb345c6c88e4023e2553a15580cef2852c121098679f6c4c2abf/merged</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">overlay         221G  214G  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.8G  </span><span class="token number" style="color:#36acaa">98</span><span class="token plain">% /var/lib/docker/overlay2/28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797/merged</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">overlay         221G  214G  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.8G  </span><span class="token number" style="color:#36acaa">98</span><span class="token plain">% /var/lib/docker/overlay2/2e5c611e27c16368f4383de5c8ac6ae560f34d64160f08eb9a9e1e433daa6ac4/merged</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs            13G     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">   13G   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% /run/user/1008</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">overlay         221G  214G  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.8G  </span><span class="token number" style="color:#36acaa">98</span><span class="token plain">% /var/lib/docker/overlay2/84b5916793a1773e5835462fdd0467acb3576e94743cdc79c9e08504ac52ca31/merged</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">overlay         221G  214G  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.8G  </span><span class="token number" style="color:#36acaa">98</span><span class="token plain">% /var/lib/docker/overlay2/5a7005e5cefa0a120fccb4855eab9bff258c6a950166faac2fd22c8cf2979484/merged</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">overlay         221G  214G  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.8G  </span><span class="token number" style="color:#36acaa">98</span><span class="token plain">% /var/lib/docker/overlay2/3ab0a88edd37a7e5df24d68b4e5f59f0aee2f01419b9a6f82b982e3f7e89ef79/merged</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs            13G     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">   13G   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% /run/user/1011</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs            13G     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">   13G   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% /run/user/0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-在根目录下寻找-大于-500m-的文件">Step 1 在根目录下寻找 大于 500M 的文件<a class="hash-link" href="#step-1-在根目录下寻找-大于-500m-的文件" title="標題的直接連結">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">find</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> -size +500M -print0 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">xargs</span><span class="token plain"> -0 </span><span class="token function" style="color:#d73a49">du</span><span class="token plain"> -h </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /root/AA.log</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> /root/AA.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#type </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:g/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">STRING</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/d </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#global 文字 delete 删除 /storage /xxx 不相关行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后 删除对应无用文件</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-根据-filesystem-查看可疑文件系统">Step 2 根据 Filesystem 查看可疑文件系统<a class="hash-link" href="#step-2-根据-filesystem-查看可疑文件系统" title="標題的直接連結">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="overlay">overlay<a class="hash-link" href="#overlay" title="標題的直接連結">​</a></h4><p>首先 利用mount 查看 overlay 对应的路径</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@slave01:/var/lib/docker/overlay2</span><span class="token comment" style="color:#999988;font-style:italic"># mount -t  overlay</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">overlay on /var/lib/docker/overlay2/38ce2a2c8fadbb345c6c88e4023e2553a15580cef2852c121098679f6c4c2abf/merged </span><span class="token builtin class-name">type</span><span class="token plain"> overlay </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rw,relatime,lowerdir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/var/lib/docker/overlay2/l/VPU3WEBK7ZSS4CAIEG2WSIDEWG:/var/lib/docker/overlay2/l/HJSGHVFPEIXPODVB2G6SGCVUKX:/var/lib/docker/overlay2/l/LQIBNX7UBIZU2AKHNK2G6V2KLV:/var/lib/docker/overlay2/l/KGEOYKQ734GFQEKUWZCSE6KFSL,upperdir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/var/lib/docker/overlay2/38ce2a2c8fadbb345c6c88e4023e2553a15580cef2852c121098679f6c4c2abf/diff,workdir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/var/lib/docker/overlay2/38ce2a2c8fadbb345c6c88e4023e2553a15580cef2852c121098679f6c4c2abf/work</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">overlay on /var/lib/docker/overlay2/28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797/merged </span><span class="token builtin class-name">type</span><span class="token plain"> overlay </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rw,relatime,lowerdir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/var/lib/docker/overlay2/l/DHEKFL6D46UEDBR5PHWHN6UEHH:/var/lib/docker/overlay2/l/SNN7A2T7ZBXYKW2SXBQKSIX67C:/var/lib/docker/overlay2/l/FYK374GFEJZGCQQW2ALAIRHVSO:/var/lib/docker/overlay2/l/7HACMERHIGQR7JZQQGJNCKNUS7:/var/lib/docker/overlay2/l/QS6R2DYIBTBQRHOVGB4VHAWPV6:/var/lib/docker/overlay2/l/FKTA7IQF4JNBOFNRG353Q4T22C:/var/lib/docker/overlay2/l/IAWRXYRJ4V67KBVYV2TI5M7M4M:/var/lib/docker/overlay2/l/Y4G4HGVVSYPCSPGILFDLB5ITYI:/var/lib/docker/overlay2/l/STDB5J7V3YO3XUK5XNT7D6FEOG:/var/lib/docker/overlay2/l/YPRRYJ5PGWZ6BQ5NSLMEBYPB4I:/var/lib/docker/overlay2/l/RCUOIVTEDAON5N3DP3BVUQVXBH:/var/lib/docker/overlay2/l/U2F73KIPTHDRJA7NZVNJT4KHLI,upperdir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/var/lib/docker/overlay2/28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797/diff,workdir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/var/lib/docker/overlay2/28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797/work</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>留意到</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/var/lib/docker/overlay2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>pushd 进相关目录</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">du</span><span class="token plain"> -h --max-depth</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如下输出</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@slave01:/var/lib/docker/overlay2</span><span class="token comment" style="color:#999988;font-style:italic"># du -h --max-depth=1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">.7G    ./7129b703bd58ba9d0217e3770050b5bfba57cfef6548eda21f1dd3b9a3c572bf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">40K     ./28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797-init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">24K     ./86e5ce373c451d537975223605338f787a218d361a7292ea93e1ab667e28e644</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">.8G    ./4718a3ed58149a869dea349ae80c487584a8ab3dd16a5d9f385eaf15bdb18a3a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">241M    ./38ce2a2c8fadbb345c6c88e4023e2553a15580cef2852c121098679f6c4c2abf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">40K     ./f39b75e04364d91c1ac074e3b797a670b9f8d419e693890b66967438fc7427e1-init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">78M     ./5cf6779b3682b5f40be1100134d3d6d6d763f1cc96193ad87b20ec20bbab301f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">292K    ./0df64755c145230dfad62016a000dc0d16302c868bf36e1c45af249af28eeaaa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">18G     ./f187076c8cc73e4212e7b59944af7665800961898f345c54d7210adddacdc0fe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">18M     ./bfd5b5212714fa1ea875934e2fcdadc77d295fc614ead0f5eb69b2bc58440a79</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14G     ./84b5916793a1773e5835462fdd0467acb3576e94743cdc79c9e08504ac52ca31</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">749M    ./b23680886239a3b89d53948e1311bffa1c0e0dbaa0649f9dfc6df62b75c5c67d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32K     ./48477f6ae9617edff67f43e59c9b546bb1a228fa0212231ac662b1a0f2cfe1d5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32K     ./16ce11a5b972bba2b98cacd5609674e944e82770a79808040a297b70f951d238</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">116M    ./1b207660bbd786106a86ad125b12fc0525ec51d602a6cfef8e3ff5f6567f7cd3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">36K     ./34253942384fd03637adbd7b959fab29e8e60c421f071e2a14f72452db97f1eb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">18M     ./94d362e3e7a1e6efee5d373008a19e9e3cc4578541cbb140a13eabba3ff66a96</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">70G     ./28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">40K     ./36affaa6f22adb0d45e6b8f5c3ad9c92fbf50f0c53fc6518465c86a52429990f-init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">29M     ./80c6d1117ca7c8b64095c1e1f18bd7df9d916347031b6bd403521103443b7505</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">33M     ./8dd21e66d906381cbb62062e2aac36e863ad1e373c39facd9f3764a9144c09c4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">11G     ./3ab0a88edd37a7e5df24d68b4e5f59f0aee2f01419b9a6f82b982e3f7e89ef79</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">244G    </span><span class="token builtin class-name">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这时 我们可以利用grep 来检索对应的docker</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ps</span><span class="token plain"> -q </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">xargs</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> inspect --format </span><span class="token string" style="color:#e3116c">'{{.State.Pid}}, {{.Name}}, {{.GraphDriver.Data.WorkDir}}'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"x"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如id含3的容器</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@slave01:/var/lib/docker/overlay2</span><span class="token comment" style="color:#999988;font-style:italic"># docker ps -q | xargs docker inspect --format '{{.State.Pid}}, {{.Name}}, {{.GraphDriver.Data.WorkDir}}' | grep "3"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4637</span><span class="token plain">, /wanta7780, /var/lib/docker/overlay2/2e5c611e27c16368f4383de5c8ac6ae560f34d64160f08eb9a9e1e433daa6ac4/work</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17106</span><span class="token plain">, /nn2, /var/lib/docker/overlay2/3ab0a88edd37a7e5df24d68b4e5f59f0aee2f01419b9a6f82b982e3f7e89ef79/work</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">15986</span><span class="token plain">, /chz, /var/lib/docker/overlay2/84b5916793a1773e5835462fdd0467acb3576e94743cdc79c9e08504ac52ca31/work</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4384</span><span class="token plain">, /xpq, /var/lib/docker/overlay2/28bbbb41fef8d50f3ecf916b6134e3ba7e7348120fa78314df5ffdbe1dc7d797/work</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">38783</span><span class="token plain">, /portainer, /var/lib/docker/overlay2/38ce2a2c8fadbb345c6c88e4023e2553a15580cef2852c121098679f6c4c2abf/work</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果找不到相关的容器，可能这就是之前的残留文件，直接 删除删除即可。</p><p>通过 df -h 我们可以看到 Used 下降了很多</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@slave01:/var/lib/docker/overlay2</span><span class="token comment" style="color:#999988;font-style:italic"># df -h</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Filesystem      Size  Used Avail Use% Mounted on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">udev             63G     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">   63G   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% /dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmpfs            13G  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">.9M   13G   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">% /run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/sda4       221G  214G  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.8G  </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% /</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>最后修改预留空间为 1%</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tune2fs -m </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> /dev/sda4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">df</span><span class="token plain"> -h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">##可以看到</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/sda4       221G  214G  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">.8G  </span><span class="token number" style="color:#36acaa">98</span><span class="token plain">% /</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@slave01:/var/lib/docker/overlay2</span><span class="token comment" style="color:#999988;font-style:italic"># sudo tune2fs -l /dev/sda4 | grep -i 'block count'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Block count:              </span><span class="token number" style="color:#36acaa">59107328</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reserved block count:     </span><span class="token number" style="color:#36acaa">591073</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>可以看出可用空间变多，完成空间释放</p><h1>Tips</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="xargs-extended-arguments">xargs (eXtended ARGuments）<a class="hash-link" href="#xargs-extended-arguments" title="標題的直接連結">​</a></h2><ol><li><p>xargs 是给命令传递参数的一个过滤器，也是组合多个命令的一个工具。</p></li><li><p>xargs 可以将管道或标准输入（stdin）数据转换成命令行参数，也能够从文件的输出中读取数据。</p></li><li><p>xargs 也可以将单行或多行文本输入转换为其他格式，例如多行变单行，单行变多行。</p></li><li><p>xargs 默认的命令是 echo，这意味着通过管道传递给 xargs 的输入将会包含换行和空白，不过通过 xargs 的处理，换行和空白将被空格取代。</p></li><li><p>xargs 是一个强有力的命令，它能够捕获一个命令的输出，然后传递给另外一个命令。</p></li></ol><p>xargs 一般是和管道一起使用。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">命令格式：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">somecommand </span><span class="token operator" style="color:#393A34">|</span><span class="token function" style="color:#d73a49">xargs</span><span class="token plain"> -item  </span><span class="token builtin class-name">command</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">参数：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-a </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> 从文件中读入作为 stdin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e flag ，注意有的时候可能会是-E，flag必须是一个以空格分隔的标志，当xargs分析到含有flag这个标志的时候就停止。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 当每次执行一个argument的时候询问一次用户。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-n num 后面加次数，表示命令在执行的时候一次用的argument的个数，默认是用所有的。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-t 表示先打印命令，然后再执行。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-i 或者是-I，这得看linux支持了，将xargs的每项名称，一般是一行一行赋值给 </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">，可以用 </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> 代替。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-r no-run-if-empty 当xargs的输入为空的时候则停止xargs，不用再去执行了。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-s num 命令行的最大字符数，指的是 </span><span class="token function" style="color:#d73a49">xargs</span><span class="token plain"> 后面那个命令的最大命令行字符数。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-L num 从标准输入一次读取 num 行送给 </span><span class="token builtin class-name">command</span><span class="token plain"> 命令。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-l 同 -L。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d delim 分隔符，默认的xargs分隔符是回车，argument的分隔符是空格，这里修改的是xargs的分隔符。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-x exit的意思，主要是配合-s使用</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>example</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">find</span><span class="token plain"> ./ -name </span><span class="token string" style="color:#e3116c">"systemd*"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">xargs</span><span class="token plain"> -i </span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> -r </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">.bak </span><span class="token comment" style="color:#999988;font-style:italic">#寻找 systemd开头文件并备份</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>w0x7ce</name>
            <uri>https://github.com/tiarnking</uri>
        </author>
        <category label="misc" term="misc"/>
        <category label="Linux" term="Linux"/>
        <category label="Docker" term="Docker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[數字貨幣行情爬取 Colly實戰]]></title>
        <id>/Colly-Spider-Get-CoinMarket-Data</id>
        <link href="https://me.w0x7ce.eu/zh-TW/blog/Colly-Spider-Get-CoinMarket-Data"/>
        <updated>2022-03-17T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Colly & coinmarket]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="colly--coinmarket">Colly &amp; coinmarket<a class="hash-link" href="#colly--coinmarket" title="標題的直接連結">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="colly-是什么什么要用它怎样利用它进行量化相关的应用">Colly 是什么，什么要用它，怎样利用它进行量化相关的应用<a class="hash-link" href="#colly-是什么什么要用它怎样利用它进行量化相关的应用" title="標題的直接連結">​</a></h3><p>colly 是用Go 语言编写的功能强大的爬虫框架。 它提供简洁的API，拥有强劲的性能，可以自动处理cookie&amp;session，还有提供灵活的扩展机制</p><p>Colly 本身不能做量化 但是 Colly可以更高效的帮助我们采集数据，为我们提供量化的弹药</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="colly的使用">Colly的使用<a class="hash-link" href="#colly的使用" title="標題的直接連結">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="colly的执行顺序">Colly的执行顺序<a class="hash-link" href="#colly的执行顺序" title="標題的直接連結">​</a></h3><p>colly函式作用順序(Call order of callbacks)</p><ol><li>OnRequest
在发起请求前 可以进行Header相关的设定</li><li>OnError
如果请求时候出现错误 在这里捕获它</li><li>OnResponseHeaders
收到响应标头时候 我们需要做的东西写在这里</li><li>OnResponse
收到响应回复的时候 我们要做的事情 写在这里</li><li>OnHTML
收到相应为HTML格式时候（晚于OnResponse），进行goquerySelector篩選</li><li>OnXML
收到相应为XML格式时候（晚于OnHTML），进行xpathQuery筛选</li><li>OnScraped
抓取网页（类似于OnResponse），但在最后才进行调用</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="colly-的安装">Colly 的安装<a class="hash-link" href="#colly-的安装" title="標題的直接連結">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">``bash     # 安装Golang     wget "https://go.dev/dl/go1.18.linux-amd64.tar.gz"     rm -rf /usr/local/go &amp;&amp; tar -C /usr/local -xzf go1.18.linux-amd64.tar.gz     export PATH=$PATH:/usr/local/go/bin     go version     ``</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">``bash     # 启用 Go Modules 功能     go env -w GO111MODULE=on     # 1. 七牛 CDN     go env -w  GOPROXY=https://goproxy.cn,direct     # 2. 阿里云     go env -w GOPROXY=https://mirrors.aliyun.com/goproxy/,direct     # 3. 官方     go env -w  GOPROXY=https://goproxy.io,direct     ``</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">``bash     mkdir Crawl &amp;&amp; pushd Crawl     go mod init     go get -u github.com/gocolly/colly/v2     go mod tidy     ``</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="网络环境的配置">网络环境的配置<a class="hash-link" href="#网络环境的配置" title="標題的直接連結">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">因为在国内 无法直接连接上数字货币的网站 所以 我们需要配置代理, 我们的本地代理为 socks5:/127.0.0.1:12999</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果没有搭建 可以 尝试在服务器上用snap 安装 shadowsocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">``bash     sudo apt-get update &amp;&amp; sudo apt-get upgrade -y     sudo apt install snapd     sudo snap install shadowsocks-libev     sudo snap run shadowsocks-libev.ss-local -s server_ip -p server_port -l local_port -b 0.0.0.0 -k passwd -m method     ``</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="完整代码">完整代码<a class="hash-link" href="#完整代码" title="標題的直接連結">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">```golang</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    package main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        "fmt"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        "log"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        "strconv"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">colly "github.com/gocolly/colly/v2"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        "github.com/gocolly/colly/v2/proxy"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        excelize "github.com/xuri/excelize/v2"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type GG struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _url       string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _name      string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _now_price string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">num := 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        f := excelize.NewFile()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Instantiate default collector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        c := colly.NewCollector()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Rotate two socks5 proxies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rp, err := proxy.RoundRobinProxySwitcher("socks5://127.0.0.1:12999", "socks5://127.0.0.1:12999")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if err != nil {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            log.Fatal(err)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 【设置代理IP】 ，这里使用的是轮询ip方式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        c.SetProxyFunc(rp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c.OnRequest(func(r *colly.Request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Authority", "coinmarketcap.com")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Cache-Control", "max-age=0")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Sec-Ch-Ua", "\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"99\", \"Microsoft Edge\";v=\"99\"")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Sec-Ch-Ua-Mobile", "?0")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Sec-Ch-Ua-Platform", "\"Windows\"")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Upgrade-Insecure-Requests", "1")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36 Edg/99.0.1150.39")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Accept", "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Sec-Fetch-Site", "same-origin")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Sec-Fetch-Mode", "navigate")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Sec-Fetch-User", "?2")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Sec-Fetch-Dest", "document")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Referer", "https://coinmarketcap.com/all/views/all/")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r.Headers.Set("Accept-Language", "zh-TW,zh-HK;q=0.9,zh;q=0.8,en;q=0.7,zh-CN;q=0.6,en-GB;q=0.5,en-US;q=0.4")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c.OnResponse(func(r *colly.Response) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c.OnHTML(".cmc-table__table-wrapper-outer tbody tr", func(e *colly.HTMLElement) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DOGE := GG{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if len(e.ChildText("td[class='name-cell']")) == 0 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                DOGE._url = "https://coinmarketcap.com" + e.ChildAttr("a[class='cmc-link']", "href")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                DOGE._name = e.ChildText("a[class='cmc-table__column-name--name cmc-link']")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                DOGE._url = "https://coinmarketcap.com" + e.ChildAttr("a[class='cmc-link']", "href")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                DOGE._name = e.ChildText("td[class='name-cell']")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c_coin := colly.NewCollector()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            c_coin.SetProxyFunc(rp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            c_coin.OnRequest(func(r *colly.Request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Authority", "coinmarketcap.com")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Cache-Control", "max-age=0")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Sec-Ch-Ua", "\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"99\", \"Microsoft Edge\";v=\"99\"")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Sec-Ch-Ua-Mobile", "?0")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Sec-Ch-Ua-Platform", "\"Windows\"")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Upgrade-Insecure-Requests", "1")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36 Edg/99.0.1150.39")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Accept", "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Sec-Fetch-Site", "same-origin")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Sec-Fetch-Mode", "navigate")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Sec-Fetch-User", "?2")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Sec-Fetch-Dest", "document")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Referer", "https://coinmarketcap.com/all/views/all/")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r.Headers.Set("Accept-Language", "zh-TW,zh-HK;q=0.9,zh;q=0.8,en;q=0.7,zh-CN;q=0.6,en-GB;q=0.5,en-US;q=0.4")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            c_coin.OnResponse(func(r *colly.Response) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            c_coin.OnHTML("div[class='priceValue ']", func(r *colly.HTMLElement) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                DOGE._now_price = string(r.Text)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            c_coin.Visit(DOGE._url)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fmt.Print(DOGE._name, "     ")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            fmt.Print(DOGE._now_price, "     ")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            fmt.Println(DOGE._url)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var A_num string = "A" + strconv.Itoa(num)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            B_price := "B" + strconv.Itoa(num)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            C_url := "C" + strconv.Itoa(num)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">f.SetCellValue("Sheet1", A_num, DOGE._name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            f.SetCellValue("Sheet1", B_price, DOGE._now_price)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            f.SetCellValue("Sheet1", C_url, DOGE._url)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if err := f.SaveAs("Coin_price.xlsx"); err != nil {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                fmt.Println(err)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            num += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c.Visit("https://coinmarketcap.com/all/views/all/")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>w0x7ce</name>
            <uri>https://github.com/tiarnking</uri>
        </author>
        <category label="爬虫" term="爬虫"/>
        <category label="實戰" term="實戰"/>
        <category label="數字貨幣" term="數字貨幣"/>
        <category label="Golang" term="Golang"/>
        <category label="Spider" term="Spider"/>
        <category label="Colly" term="Colly"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Ab压力测试]]></title>
        <id>Ab压力测试</id>
        <link href="https://me.w0x7ce.eu/zh-TW/blog/Ab压力测试"/>
        <updated>2022-03-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ab install]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ab-install">ab install<a class="hash-link" href="#ab-install" title="標題的直接連結">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> apache2-utils</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ab-参数">ab 参数<a class="hash-link" href="#ab-参数" title="標題的直接連結">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-A auth-username:password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">为服务器提供BASIC身份验证凭据。用户名和密码由一个单独分隔，:并通过wire base64编码发送。无论服务器是否需要它，都会发送该字符串（即，已发送401认证）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-b windowsize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TCP发送/接收缓冲区的大小，以字节为单位。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-B local-address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在进行传出连接时绑定的地址。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-c concurrency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">一次执行多个请求的数量。默认值是一次一个请求。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-C cookie-name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cookie:在请求中添加一行。论证通常是一 对的形式。该字段是可重复的。name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">不显示“XX </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ms</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">表中提供的百分比”。（遗产支持）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e csv-file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">写一个逗号分隔值（CSV）文件，其中包含为每个百分比（从1％到100％）提供服务该百分比请求所用的时间（以毫秒为单位）。这通常比</span><span class="token string" style="color:#e3116c">'gnuplot'</span><span class="token plain">文件更有用</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> 因为结果已经“装箱”了。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-f protocol</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">指定SSL / TLS协议（SSL2，SSL3，TLS1，TLS1.1，TLS1.2或ALL）。2.4.4及更高版本中提供了TLS1.1和TLS1.2支持。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-g gnuplot-file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将所有测量值写为</span><span class="token string" style="color:#e3116c">'gnuplot'</span><span class="token plain">或TSV（Tab单独值）文件。这个文件可以很容易地导入到Gnuplot，IDL，Mathematica，Igor甚至Excel等软件包中。标签位于文件的第一行。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示使用信息。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H custom-header</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在请求中附加额外的标头。该参数是典型地在一个有效报头线的形式，含有一个冒号分隔的字段值对（即，</span><span class="token string" style="color:#e3116c">"Accept-Encoding: zip/zop;8bit"</span><span class="token plain">）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">做HEAD请求而不是GET。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">启用HTTP KeepAlive功能，即在一个HTTP会话中执行多个请求。默认值是没有KeepAlive。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果响应的长度不恒定，请不要报告错误。这对动态页面很有用。适用于2.4.7及更高版本。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-m HTTP-method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">请求的自定义HTTP方法。适用于2.4.10及更高版本。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-n requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">为基准测试会话执行的请求数。默认情况下只执行单个请求，这通常会导致非代表性的基准测试结果。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p POST-file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">包含POST数据的文件。记得还要设置-T。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-P proxy-auth-username:password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将BASIC身份验证凭据提供给代理路由。用户名和密码由一个单独分隔，:并通过wire base64编码发送。无论代理是否需要它，都会发送该字符串（即，已发送407代理身份验证）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">处理超过150个请求时，每10％或100个请求左右ab输出进度计数stderr。该 -q标志将禁止这些消息。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-r</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">不要退出套接字接收错误。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-s </span><span class="token function" style="color:#d73a49">timeout</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">套接字超时前等待的最大秒数。默认值为30秒。适用于2.4.4及更高版本。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-S</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">当平均值和中位数分别超过标准差的一倍或两倍时，不显示中值和标准差值，也不显示警告/错误消息。默认为min / avg / max值。（遗产支持）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-t timelimit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">用于基准测试的最大秒数。这意味着 -n </span><span class="token number" style="color:#36acaa">50000</span><span class="token plain">内部。使用此选项可在固定的总时间内对服务器进行基准测试。默认情况下没有时间限制。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-T content-type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">用于POST / PUT数据的内容类型标头，例如。 application/x-www-form-urlencoded。默认是text/plain。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-u PUT-file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">包含数据到PUT的文件。记得还要设置-T。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v verbosity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">设置详细级别 - </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">以及上面打印标题信息，3上面打印响应代码（404,200等）， </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">以及上面打印警告和信息。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-V</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">显示版本号并退出。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-w</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在HTML表格中打印结果。默认表格为两列宽，背景为白色。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-x </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">table</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">-attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">用作</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.的属性的字符串</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">table</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">。插入属性。</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">table here </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-X proxy</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">:port</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">使用代理服务器来处理请求。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-y </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">tr</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">-attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">用作</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.的属性的字符串</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">tr</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-z </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">td</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">-attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">用作</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.的属性的字符串</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">td</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-Z ciphersuite</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">指定SSL / TLS密码套件（请参阅openssl密码）</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用参数">常用参数<a class="hash-link" href="#常用参数" title="標題的直接連結">​</a></h3><div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-t timelimit  测试时间限制，单位秒</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-s timeout    每个请求时间限制，单位秒</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v verbosity  日志输出级别，可以选择1, 2等，调试使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-T content-type  POST/PUT接口的content-type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p postfile      POST请求发送的数据文件</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ab-demo">ab demo<a class="hash-link" href="#ab-demo" title="標題的直接連結">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ab -c </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> -n </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> -r -s </span><span class="token number" style="color:#36acaa">200</span><span class="token plain"> http://127.0.0.1:1080/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="测试post请求">测试POST请求<a class="hash-link" href="#测试post请求" title="標題的直接連結">​</a></h3><ol><li><p>以x-www-form-urlencoded形式发送</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ab -n </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"> -c </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> -p post.txt -T </span><span class="token string" style="color:#e3116c">'application/x-www-form-urlencoded'</span><span class="token plain"> http://www.test.com/test/api</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>假定需要发送的json数据为 {name : “hello,world”}。
post.txt文件内容：</p><div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name=hello,world</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>以multipart/form-data形式发送</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ab -n </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"> -c </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> -p post.txt -T </span><span class="token string" style="color:#e3116c">'multipart/form-data; boundary=--WebKitFormBoundaryE19zNvXGzXaLvS5C'</span><span class="token plain"> http://www.test.com/test/api</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>post.txt文件内容如下：</p><div class="language-post.txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-post.txt codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">----WebKitFormBoundaryE19zNvXGzXaLvS5C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Disposition: form-data; name="name"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello,world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">----WebKitFormBoundaryE19zNvXGzXaLvS5C</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><ul><li>POST的文件内容可以通过postman测试接口来查看。</li><li>性能测试得到的最重要的指标就是QPS(Requests per second)，反映了接口的并发承受能力，也就是系统的峰值性能。如果对接口的调用超过了这一限制，就要考虑提升硬件或者做一些优化了。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考文档">参考文档：<a class="hash-link" href="#参考文档" title="標題的直接連結">​</a></h2><ol><li>ab参数介绍：<a href="http://httpd.apache.org/docs/2.4/programs/ab.html" target="_blank" rel="noopener noreferrer">http://httpd.apache.org/docs/2.4/programs/ab.html</a></li><li>使用ab命令发送一个post请求：<a href="http://stackoverflow.com/questions/29731023/make-a-post-request-using-ab-apache-benchmarking-on-a-django-server" target="_blank" rel="noopener noreferrer">http://stackoverflow.com/questions/29731023/make-a-post-request-using-ab-apache-benchmarking-on-a-django-server</a></li><li>同上：<a href="http://stackoverflow.com/questions/20220270/posting-multipart-form-data-with-apache-bench-ab" target="_blank" rel="noopener noreferrer">http://stackoverflow.com/questions/20220270/posting-multipart-form-data-with-apache-bench-ab</a></li></ol>]]></content>
        <author>
            <name>w0x7ce</name>
            <uri>https://github.com/tiarnking</uri>
        </author>
        <category label="misc" term="misc"/>
        <category label="Linux" term="Linux"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[爬蟲框架 Colly]]></title>
        <id>Colly-Get-start</id>
        <link href="https://me.w0x7ce.eu/zh-TW/blog/Colly-Get-start"/>
        <updated>2022-03-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[安裝 colly]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="安裝-colly">安裝 colly<a class="hash-link" href="#安裝-colly" title="標題的直接連結">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 启用 Go Modules 功能</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go </span><span class="token function" style="color:#d73a49">env</span><span class="token plain"> -w </span><span class="token assign-left variable" style="color:#36acaa">GO111MODULE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 1. 七牛 CDN</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go </span><span class="token function" style="color:#d73a49">env</span><span class="token plain"> -w  </span><span class="token assign-left variable" style="color:#36acaa">GOPROXY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://goproxy.cn,direct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2. 阿里云</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go </span><span class="token function" style="color:#d73a49">env</span><span class="token plain"> -w </span><span class="token assign-left variable" style="color:#36acaa">GOPROXY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://mirrors.aliyun.com/goproxy/,direct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 3. 官方</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go </span><span class="token function" style="color:#d73a49">env</span><span class="token plain"> -w  </span><span class="token assign-left variable" style="color:#36acaa">GOPROXY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://goproxy.io,direct</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">go get -u github.com/gocolly/colly/v2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="colly-onresponse">Colly OnResponse<a class="hash-link" href="#colly-onresponse" title="標題的直接連結">​</a></h2><div class="language-Golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Golang codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">package main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    "fmt"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    "strings"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    "github.com/gocolly/colly"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var count int = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c := colly.NewCollector() // 在colly中使用 Collector 這類物件 來做事情</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c.OnResponse(func(r *colly.Response) { // 當Visit訪問網頁後，網頁響應(Response)時候執行的事情</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // fmt.Println(string(r.Body)) // 返回的Response物件r.Body 是[]Byte格式，要再轉成字串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c.OnRequest(func(r *colly.Request) { // 需要寫這一段 User-Agent 降低被ban 可能性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        r.Headers.Set("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 當Visit訪問網頁後，在網頁響應(Response)之後、發現這是HTML格式 執行的事情</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // F12 OnHTML 支持 class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c.OnHTML(".qa-list__title-link", func(e *colly.HTMLElement) { // 每找到一個符合 goquerySelector字樣的結果，便會進這個OnHTML一次</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        e.Text = strings.TrimSpace(e.Text)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fmt.Println(e.Text)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        count++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c.Visit("https://ithelp.ithome.com.tw/users/20125192/ironman/3155") // Visit 要放最後</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conhtml">c.OnHTML<a class="hash-link" href="#conhtml" title="標題的直接連結">​</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">...</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h3</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">qa-list__title qa-list__title--ironman</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Go繁不及備載</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 系列</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h3</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">/users/20125192</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">account</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-account</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">gjlmotea</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">我的主頁</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li><p>Tag 標籤</p><div class="language-Golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Golang codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">c.OnHTML("title", func(e *colly.HTMLElement) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fmt.Println(e.Text)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Attr 屬性</p><div class="language-Golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Golang codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">c.OnHTML("meta[name]", func(e *colly.HTMLElement) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fmt.Println(e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>AttrVal 屬性值</p><p>name="description"這串屬性的content</p><div class="language-Goalng codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Goalng codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">c.OnHTML("meta[name='description']", func(e *colly.HTMLElement) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fmt.Println(e.Attr("content")) // 抓此Tag中的name屬性 來找出此Tag，再印此Tag中的content屬性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>CSS Class 名稱</p><div class="language-Golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Golang codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">c.OnHTML(".qa-list__title-link", func(e *colly.HTMLElement) { // 每找到一個符合 goquerySelector字樣的結果，便會進這個OnHTML一次</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fmt.Println(e.Text)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>CSS ID 唯一識別</p><p>以 CSS來抓該 id底下的字</p><div class="language-Golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Golang codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">c.OnHTML("#read_more", func(e *colly.HTMLElement) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fmt.Println(e.Text)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="執行順序">執行順序<a class="hash-link" href="#執行順序" title="標題的直接連結">​</a></h2><p>colly函式作用順序(Call order of callbacks)</p><ol><li>OnRequest
在發起請求之前，可以預先對Header的參數進行設定</li><li>OnError
如果在請求的時候發生錯誤</li><li>OnResponseHeaders
收到響應的標頭時</li><li>OnResponse
收到響應回復的時候</li><li>OnHTML
收到的響應是HTML格式時（時間點比 OnResponse還晚），進行goquerySelector篩選</li><li>OnXML
收到的響應是XML格式時（時間點比 OnHTML還晚），進行xpathQuery篩選</li><li>OnScraped
抓取網頁（與OnResponse相仿），但在最後才進行調用</li></ol>]]></content>
        <author>
            <name>w0x7ce</name>
            <uri>https://github.com/tiarnking</uri>
        </author>
        <category label="爬虫" term="爬虫"/>
        <category label="Golang" term="Golang"/>
        <category label="Spider" term="Spider"/>
        <category label="Colly" term="Colly"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Docker機器學習環境搭建]]></title>
        <id>Docker-ML-ENV-SETUP</id>
        <link href="https://me.w0x7ce.eu/zh-TW/blog/Docker-ML-ENV-SETUP"/>
        <updated>2022-03-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Way 1 simple use ufoym/deepo]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="way-1-simple-use-ufoymdeepo">Way 1 simple use ufoym/deepo<a class="hash-link" href="#way-1-simple-use-ufoymdeepo" title="標題的直接連結">​</a></h2><p> <a href="https://github.com/ufoym/deepo" target="_blank" rel="noopener noreferrer">https://github.com/ufoym/deepo</a>
<a href="https://hub.docker.com/r/ufoym/deepo" target="_blank" rel="noopener noreferrer">https://hub.docker.com/r/ufoym/deepo</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-docker">Configure Docker<a class="hash-link" href="#configure-docker" title="標題的直接連結">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-uninstall-old-version">Step 1 Uninstall old version<a class="hash-link" href="#step-1-uninstall-old-version" title="標題的直接連結">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> remove </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> docker-engine docker.io containerd runc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-install-latest-docker">Step 2 Install latest docker<a class="hash-link" href="#step-2-install-latest-docker" title="標題的直接連結">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ca-certificates </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gnupg </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lsb-release</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -fsSL https://download.docker.com/linux/ubuntu/gpg </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">"deb [arch=</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable" style="color:#36acaa">dpkg --print-architecture</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c"> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  </span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable" style="color:#36acaa">lsb_release -cs</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c"> stable"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tee</span><span class="token plain"> /etc/apt/sources.list.d/docker.list </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /dev/null</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> docker-ce docker-ce-cli containerd.io</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-install-nvidia-docker">Step 3 Install nvidia-docker<a class="hash-link" href="#step-3-install-nvidia-docker" title="標題的直接連結">​</a></h4><ol><li><p>Setting up NVIDIA Container Toolkit</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">distribution</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable builtin class-name" style="color:#36acaa">.</span><span class="token variable" style="color:#36acaa"> /etc/os-release</span><span class="token variable punctuation" style="color:#393A34">;</span><span class="token variable builtin class-name" style="color:#36acaa">echo</span><span class="token variable" style="color:#36acaa"> $ID$VERSION_ID</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -s -L https://nvidia.github.io/nvidia-docker/gpgkey </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> apt-key </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> - </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -s -L https://nvidia.github.io/nvidia-docker/</span><span class="token variable" style="color:#36acaa">$distribution</span><span class="token plain">/nvidia-docker.list </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tee</span><span class="token plain"> /etc/apt/sources.list.d/nvidia-docker.list</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>To get access to experimental features such as CUDA on WSL or the new MIG capability on A100</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -s -L https://nvidia.github.io/nvidia-container-runtime/experimental/</span><span class="token variable" style="color:#36acaa">$distribution</span><span class="token plain">/nvidia-container-runtime.list </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tee</span><span class="token plain"> /etc/apt/sources.list.d/nvidia-container-runtime.list</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Install the nvidia-docker2</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -y nvidia-docker2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Final restart</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl restart </span><span class="token function" style="color:#d73a49">docker</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-select-the-verion-depends-on-ur-env">Step 4 Select the verion depends on ur ENV<a class="hash-link" href="#step-4-select-the-verion-depends-on-ur-env" title="標題的直接連結">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    nvidia-smi </span><span class="token comment" style="color:#999988;font-style:italic">#view the cuda version if it's cuda10.2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> pull ufoym/deepo:pytorch-cu102</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nvidia-docker  run --name w0x7ce -p </span><span class="token number" style="color:#36acaa">7789</span><span class="token plain">:22 -p </span><span class="token number" style="color:#36acaa">7791</span><span class="token plain">:7790 -it -v /storage:/data ufoym/deepo:pytorch-cu102</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>NOW it will work well !</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="use-note">USE note<a class="hash-link" href="#use-note" title="標題的直接連結">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> start </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">tag</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> attach </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">tag</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctrl +p + q </span><span class="token comment" style="color:#999988;font-style:italic">## exit without stop the container</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ps</span><span class="token plain"> -a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="misc">Misc<a class="hash-link" href="#misc" title="標題的直接連結">​</a></h3><p>中国内地使用可以配置镜像，以便加速下载</p><ul><li><p>请首先查看是否在 docker.service 文件中配置过镜像地址。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ systemctl </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'\-\-registry\-mirror'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>如果该命令有输出，那么请执行 $ systemctl cat docker 查看 ExecStart= 出现的位置，修改对应的文件内容去掉 --registry-mirror 参数及其值，并按接下来的步骤进行配置。</p></li><li><p>如果以上命令没有任何输出，那么就可以在 /etc/docker/daemon.json 中写入如下内容（如果文件不存在请新建该文件）</p></li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">"registry-mirrors"</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"https://hub-mirror.c.163.com"</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"https://mirror.baidubce.com"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://github.com/docker-practice/docker-registry-cn-mirror-test/actions" target="_blank" rel="noopener noreferrer">ci可用测试</a></p>]]></content>
        <author>
            <name>w0x7ce</name>
            <uri>https://github.com/tiarnking</uri>
        </author>
        <category label="misc" term="misc"/>
        <category label="Linux" term="Linux"/>
        <category label="Docker" term="Docker"/>
        <category label="軟件" term="軟件"/>
        <category label="機器學習" term="機器學習"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Conda Install & Setup]]></title>
        <id>Conda-Install&amp;Setup</id>
        <link href="https://me.w0x7ce.eu/zh-TW/blog/Conda-Install&amp;Setup"/>
        <updated>2021-09-29T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://www.anaconda.com/products/individual-d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bash Anaconda*sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source &lt;path to conda&gt;/bin/activate and then run conda init</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Use</h1><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">conda create -n name python=3.7 -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conda activate name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>w0x7ce</name>
            <uri>https://github.com/tiarnking</uri>
        </author>
        <category label="misc" term="misc"/>
        <category label="Linux" term="Linux"/>
        <category label="Docker" term="Docker"/>
        <category label="Python" term="Python"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Awesome-CV-Project]]></title>
        <id>Awesome-CV-Project</id>
        <link href="https://me.w0x7ce.eu/zh-TW/blog/Awesome-CV-Project"/>
        <updated>2021-09-21T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[https://pytorch.org/hub/pytorchvisiondeeplabv3_resnet101/]]></summary>
        <content type="html"><![CDATA[<p><a href="https://pytorch.org/hub/pytorch_vision_deeplabv3_resnet101/" target="_blank" rel="noopener noreferrer">https://pytorch.org/hub/pytorch_vision_deeplabv3_resnet101/</a>
<a href="https://github.com/meetps/pytorch-semseg" target="_blank" rel="noopener noreferrer">https://github.com/meetps/pytorch-semseg</a></p><p><a href="https://albumentations.ai/docs/" target="_blank" rel="noopener noreferrer">https://albumentations.ai/docs/</a>
<a href="https://github.com/albumentations-team/albumentations#installation" target="_blank" rel="noopener noreferrer">https://github.com/albumentations-team/albumentations#installation</a>
<a href="https://modelzoo.co/" target="_blank" rel="noopener noreferrer">https://modelzoo.co/</a>
<a href="https://github.com/facebookresearch/mmf" target="_blank" rel="noopener noreferrer">https://github.com/facebookresearch/mmf</a>
<a href="https://github.com/facebookresearch/detectron2/tree/main/projects" target="_blank" rel="noopener noreferrer">https://github.com/facebookresearch/detectron2/tree/main/projects</a>
<a href="https://github.com/open-mmlab/mmsegmentation/blob/master/README_zh-CN.md" target="_blank" rel="noopener noreferrer">https://github.com/open-mmlab/mmsegmentation/blob/master/README_zh-CN.md</a>
<a href="https://github.com/open-mmlab/mmdetection/blob/master/README_zh-CN.md" target="_blank" rel="noopener noreferrer">https://github.com/open-mmlab/mmdetection/blob/master/README_zh-CN.md</a>
<a href="https://github.com/PaddlePaddle/PaddleSeg/tree/release/2.2/contrib/PanopticDeepLab" target="_blank" rel="noopener noreferrer">https://github.com/PaddlePaddle/PaddleSeg/tree/release/2.2/contrib/PanopticDeepLab</a></p>]]></content>
        <author>
            <name>w0x7ce</name>
            <uri>https://github.com/tiarnking</uri>
        </author>
        <category label="misc" term="misc"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Docker使用方法(一)]]></title>
        <id>Docker-Getting-Srart-01</id>
        <link href="https://me.w0x7ce.eu/zh-TW/blog/Docker-Getting-Srart-01"/>
        <updated>2021-09-14T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[- Web 應用的自動化打包和發布。]]></summary>
        <content type="html"><![CDATA[<ul><li>Web 應用的自動化打包和發布。</li><li>自動化測試和持續集成、發布。</li><li>在服務型環境中部署和調整數據庫或其他的後台應用。</li><li>從頭編譯或者擴展現有的 OpenShift 或 Cloud Foundry 平台來搭建自己的 PaaS 環境。</li></ul><h1>Docker 的優點</h1><p>Docker 是一個用於開發，交付和運行應用程序的開放平台。 Docker 使您能夠將應用程序與基礎架構分開，從而可以快速交付軟件。借助 Docker，您可以與管理應用程序相同的方式來管理基礎架構。通過利用 Docker 的方法來快速交付，測試和部署代碼，您可以大大減少編寫代碼和在生產環境中運行代碼之間的延遲。</p><ol><li>快速，一致地交付您的應用程序
Docker 允許開發人員使用您提供的應用程序或服務的本地容器在標準化環境中工作，從而簡化了開發的生命週期。</li></ol><p>容器非常適合持續集成和持續交付（CI / CD）工作流程，請考慮以下示例方案：</p><p>您的開發人員在本地編寫代碼，並使用 Docker 容器與同事共享他們的工作。</p><p>他們使用 Docker 將其應用程序推送到測試環境中，並執行自動或手動測試。</p><p>當開發人員發現錯誤時，他們可以在開發環境中對其進行修復，然後將其重新部署到測試環境中，以進行測試和驗證。</p><p>測試完成後，將修補程序推送給生產環境，就像將更新的鏡像推送到生產環境一樣簡單。</p><ol start="2"><li>響應式部署和擴展
Docker 是基於容器的平台，允許高度可移植的工作負載。 Docker 容器可以在開發人員的本機上，數據中心的物理或虛擬機上，雲服務上或混合環境中運行。</li></ol><p>Docker 的可移植性和輕量級的特性，還可以使您輕鬆地完成動態管理的工作負擔，並根據業務需求指示，實時擴展或拆除應用程序和服務。</p><ol start="3"><li>在同一硬件上運行更多工作負載
Docker 輕巧快速。它為基於虛擬機管理程序的虛擬機提供了可行、經濟、高效的替代方案，因此您可以利用更多的計算能力來實現業務目標。 Docker 非常適合於高密度環境以及中小型部署，而您可以用更少的資源做更多的事情</li></ol><h1>Docker安裝</h1><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -sSL https://get.daocloud.io/docker | sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Docker卸載</h1><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> sudo apt-get remove docker docker-engine docker.io containerd runc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Docker使用基礎</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker-hello-world">Docker Hello World<a class="hash-link" href="#docker-hello-world" title="標題的直接連結">​</a></h2><p>Docker 允許你在容器內運行應用程序， 使用 docker run 命令來在容器內運行一個應用程序。</p><p>輸出Hello world</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">w0x7ce@w0x7ce:~$ docker run ubuntu:15.10 /bin/echo "Hello world"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hello world</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>各個參數解析：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker: Docker 的二進制執行文件。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">run: 與前面的 docker 組合來運行一個容器。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ubuntu:15.10 指定要運行的鏡像，Docker 首先從本地主機上查找鏡像是否存在，如果不存在，Docker 就會從鏡像倉庫 Docker Hub 下載公共鏡像。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/bin/echo "Hello world": 在啟動的容器裡執行的命令</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>以上命令完整的意思可以解釋為：Docker 以 ubuntu15.10 鏡像創建一個新容器，然後在容器裡執行 bin/echo "Hello world"，然後輸出結果。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="運行交互式的容器">運行交互式的容器<a class="hash-link" href="#運行交互式的容器" title="標題的直接連結">​</a></h2><p>我們通過 docker 的兩個參數 -i -t，讓 docker 運行的容器實現"對話"的能力：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">w0x7ce@w0x7ce:~$ docker run -i -t ubuntu:15.10 /bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@0123ce188bd8:/#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>各個參數解析：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-t: 在新容器內指定一個偽終端或終端。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-i: 允許你對容器內的標準輸入 (STDIN) 進行交互。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>注意第二行 root@0123ce188bd8:/#，此時我們已進入一個 ubuntu15.10 系統的容器</p><p>我們嘗試在容器中運行命令 cat /proc/version和ls分別查看當前系統的版本信息和當前目錄下的文件列表</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@0123ce188bd8:/#  cat /proc/version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linux version 4.4.0-151-generic (buildd@lgw01-amd64-043) (gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.10) ) #178-Ubuntu SMP Tue Jun 11 08:30:22 UTC 2019</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@0123ce188bd8:/# ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@0123ce188bd8:/# </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>我們可以通過運行 exit 命令或者使用 CTRL+D 來退出容器。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@0123ce188bd8:/#  exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@w0x7ce:~# </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>注意第三行中 root@w0x7ce:~# 表明我們已經退出了當前的容器，返回到當前的主機中。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="啟動容器後台模式">啟動容器（後台模式）<a class="hash-link" href="#啟動容器後台模式" title="標題的直接連結">​</a></h2><p>使用以下命令創建一個以進程方式運行的容器</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">w0x7ce@w0x7ce:~$ docker run -d ubuntu:15.10 /bin/sh -c "while true; do echo hello world; sleep 1; done"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2b1b7a428627c51ab8810d541d759f072b4fc75487eed05812646b8534a2fe63</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在輸出中，我們沒有看到期望的 "hello world"，而是一串長字符</p><p>2b1b7a428627c51ab8810d541d759f072b4fc75487eed05812646b8534a2fe63</p><p>這個長字符串叫做容器 ID，對每個容器來說都是唯一的，我們可以通過容器 ID 來查看對應的容器發生了什麼。</p><p>首先，我們需要確認容器有在運行，可以通過 docker ps 來查看：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">w0x7ce@w0x7ce:~$ docker ps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONTAINER ID        IMAGE                  COMMAND              ...  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5917eac21c36        ubuntu:15.10           "/bin/sh -c 'while t…"    ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>輸出詳情介紹：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CONTAINER ID: 容器 ID。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IMAGE: 使用的鏡像。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COMMAND: 啟動容器時運行的命令。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATED: 容器的創建時間。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">STATUS: 容器狀態。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">狀態有7種：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">created（已創建）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">restarting（重啟中）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">running 或 Up（運行中）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">removing（遷移中）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">paused（暫停）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exited（停止）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dead（死亡）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PORTS: 容器的端口信息和使用的連接類型（tcp\udp）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAMES: 自動分配的容器名稱。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在宿主主機內使用 docker logs 命令，查看容器內的標準輸出：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">w0x7ce@w0x7ce:~$ docker logs 2b1b7a428627</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">w0x7ce@w0x7ce:~$ docker logs amazing_cori</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="停止容器">停止容器<a class="hash-link" href="#停止容器" title="標題的直接連結">​</a></h2><p>我們使用 docker stop 命令來停止容器:</p><p>通過 docker ps 查看，容器已經停止工作:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">w0x7ce@w0x7ce:~$ docker ps</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>可以看到容器已經不在了。</p><p>也可以用下面的命令來停止:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">w0x7ce@w0x7ce:~$ docker stop amazing_cori</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>w0x7ce</name>
            <uri>https://github.com/tiarnking</uri>
        </author>
        <category label="misc" term="misc"/>
        <category label="Linux" term="Linux"/>
        <category label="Docker" term="Docker"/>
        <category label="軟件" term="軟件"/>
        <category label="機器學習" term="機器學習"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Welcome]]></title>
        <id>welcome</id>
        <link href="https://me.w0x7ce.eu/zh-TW/blog/welcome"/>
        <updated>2021-08-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Docusaurus blogging features are powered by the blog plugin.]]></summary>
        <content type="html"><![CDATA[<p><a href="https://docusaurus.io/docs/blog" target="_blank" rel="noopener noreferrer">Docusaurus blogging features</a> are powered by the <a href="https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-blog" target="_blank" rel="noopener noreferrer">blog plugin</a>.</p><p>Simply add Markdown files (or folders) to the <code>blog</code> directory.</p><p>Regular blog authors can be added to <code>authors.yml</code>.</p><p>The blog post date can be extracted from filenames, such as:</p><ul><li><code>2019-05-30-welcome.md</code></li><li><code>2019-05-30-welcome/index.md</code></li></ul><p>A blog post folder can be convenient to co-locate blog post images:</p><p><img loading="lazy" alt="Docusaurus Plushie" src="/zh-TW/assets/images/docusaurus-plushie-banner-a60f7593abca1e3eef26a9afa244e4fb.jpeg" width="1500" height="500" class="img_ev3q"></p><p>The blog supports tags as well!</p><p><strong>And if you don't want a blog</strong>: just delete this directory, and use <code>blog: false</code> in your Docusaurus config.</p>]]></content>
        <author>
            <name>w0x7ce</name>
            <uri>https://github.com/tiarnking</uri>
        </author>
        <category label="facebook" term="facebook"/>
        <category label="hello" term="hello"/>
        <category label="docusaurus" term="docusaurus"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[About]]></title>
        <id>About</id>
        <link href="https://me.w0x7ce.eu/zh-TW/blog/About"/>
        <updated>2017-08-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[<!-- Hugo is a static site engine written in Go.]]></summary>
        <content type="html"><![CDATA[<audio controls="" autoplay="autoplay" src="https://me.w0x7ce.eu/media/%E9%BB%83%E8%97%9D%E6%98%8E%20-%20%E6%88%91%E5%80%91%E7%9A%84%E5%A4%A9%E7%A9%BA.mp3">Your browser does not support the HTML5 audio element.</audio><p>這一些 傳頌着經典的歌</p><p>藏着了 太多太多寄望</p><p>在這刻 迷途在遠方他鄉</p><p>感謝你 歌聲裏伴我跨過</p>]]></content>
        <author>
            <name>w0x7ce</name>
            <uri>https://github.com/tiarnking</uri>
        </author>
        <category label="misc" term="misc"/>
    </entry>
</feed>